/*!(c) 2006-2008 Appcelerator, Inc. http://appcelerator.org
 * Licensed under the Apache License, Version 2.0. Please visit
 * http://license.appcelerator.com for full copy of the License.
 * Version: 3.0.0, Released: 10/22/2008
 **/
/*(c) 2006-2008 Appcelerator, Inc. http://appcelerator.org
 * Licensed under the Apache License, Version 2.0. Please visit
 * http://license.appcelerator.com for full copy of the License.
 * Version: 3.0.0, Released: 10/22/2008
 **/
if(typeof (jQuery)=="undefined"){(function(){
/*
 * jQuery 1.2.6 - New Wave Javascript
 *
 * Copyright (c) 2008 John Resig (jquery.com)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * $Date: 2008-05-24 14:22:17 -0400 (Sat, 24 May 2008) $
 * $Rev: 5685 $
 */
var _jQuery=window.jQuery,_$=window.$;var jQuery=window.jQuery=window.$=function(selector,context){return new jQuery.fn.init(selector,context)};var quickExpr=/^[^<]*(<(.|\s)+>)[^>]*$|^#(\w+)$/,isSimple=/^.[^:#\[\.]*$/,undefined;jQuery.fn=jQuery.prototype={init:function(selector,context){selector=selector||document;if(selector.nodeType){this[0]=selector;this.length=1;return this}if(window.AppceleratorjQueryPatch&&typeof (selector)=="string"&&selector.charAt(0)!="#"&&/\w+/.test(selector)){var elem=document.getElementById(selector);if(elem){return elem}}if(typeof selector=="string"){var match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){selector=jQuery.clean([match[1]],context)}else{var elem=document.getElementById(match[3]);if(elem){if(elem.id!=match[3]){return jQuery().find(selector)}return jQuery(elem)}selector=[]}}else{return jQuery(context).find(selector)}}else{if(jQuery.isFunction(selector)){return jQuery(document)[jQuery.fn.ready?"ready":"load"](selector)}}return this.setArray(jQuery.makeArray(selector))},jquery:"1.2.6",size:function(){return this.length},length:0,get:function(num){return num==undefined?jQuery.makeArray(this):this[num]},pushStack:function(elems){var ret=jQuery(elems);ret.prevObject=this;return ret},setArray:function(elems){this.length=0;Array.prototype.push.apply(this,elems);return this},each:function(callback,args){return jQuery.each(this,callback,args)},index:function(elem){var ret=-1;return jQuery.inArray(elem&&elem.jquery?elem[0]:elem,this)},attr:function(name,value,type){var options=name;if(name.constructor==String){if(value===undefined){return this[0]&&jQuery[type||"attr"](this[0],name)}else{options={};options[name]=value}}return this.each(function(i){for(name in options){jQuery.attr(type?this.style:this,name,jQuery.prop(this,options[name],type,i,name))}})},css:function(key,value){if((key=="width"||key=="height")&&parseFloat(value)<0){value=undefined}return this.attr(key,value,"curCSS")},text:function(text){if(typeof text!="object"&&text!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text))}var ret="";jQuery.each(text||this,function(){jQuery.each(this.childNodes,function(){if(this.nodeType!=8){ret+=this.nodeType!=1?this.nodeValue:jQuery.fn.text([this])}})});return ret},wrapAll:function(html){if(this[0]){jQuery(html,this[0].ownerDocument).clone().insertBefore(this[0]).map(function(){var elem=this;while(elem.firstChild){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){return this.each(function(){jQuery(this).contents().wrapAll(html)})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},append:function(){return this.domManip(arguments,true,false,function(elem){if(this.nodeType==1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,true,function(elem){if(this.nodeType==1){this.insertBefore(elem,this.firstChild)}})},before:function(){return this.domManip(arguments,false,false,function(elem){this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,false,true,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})},end:function(){return this.prevObject||jQuery([])},find:function(selector){var elems=jQuery.map(this,function(elem){return jQuery.find(selector,elem)});return this.pushStack(/[^+>] [^+>]/.test(selector)||selector.indexOf("..")>-1?jQuery.unique(elems):elems)},clone:function(events){var ret=this.map(function(){if(jQuery.browser.msie&&!jQuery.isXMLDoc(this)){var clone=this.cloneNode(true),container=document.createElement("div");container.appendChild(clone);return jQuery.clean([container.innerHTML])[0]}else{return this.cloneNode(true)}});var clone=ret.find("*").andSelf().each(function(){if(this[expando]!=undefined){this[expando]=null}});if(events===true){this.find("*").andSelf().each(function(i){if(this.nodeType==3){return }var events=jQuery.data(this,"events");for(var type in events){for(var handler in events[type]){jQuery.event.add(clone[i],type,events[type][handler],events[type][handler].data)}}})}return ret},filter:function(selector){return this.pushStack(jQuery.isFunction(selector)&&jQuery.grep(this,function(elem,i){return selector.call(elem,i)})||jQuery.multiFilter(selector,this))},not:function(selector){if(selector.constructor==String){if(isSimple.test(selector)){return this.pushStack(jQuery.multiFilter(selector,this,true))}else{selector=jQuery.multiFilter(selector,this)}}var isArrayLike=selector.length&&selector[selector.length-1]!==undefined&&!selector.nodeType;return this.filter(function(){return isArrayLike?jQuery.inArray(this,selector)<0:this!=selector})},add:function(selector){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),typeof selector=="string"?jQuery(selector):jQuery.makeArray(selector))))},is:function(selector){return !!selector&&jQuery.multiFilter(selector,this).length>0},hasClass:function(selector){return this.is("."+selector)},val:function(value){if(value==undefined){if(this.length){var elem=this[0];if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type=="select-one";if(index<0){return null}for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected){value=jQuery.browser.msie&&!option.attributes.value.specified?option.text:option.value;if(one){return value}values.push(value)}}return values}else{return(this[0].value||"").replace(/\r/g,"")}}return undefined}if(value.constructor==Number){value+=""}return this.each(function(){if(this.nodeType!=1){return }if(value.constructor==Array&&/radio|checkbox/.test(this.type)){this.checked=(jQuery.inArray(this.value,value)>=0||jQuery.inArray(this.name,value)>=0)}else{if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(value);jQuery("option",this).each(function(){this.selected=(jQuery.inArray(this.value,values)>=0||jQuery.inArray(this.text,values)>=0)});if(!values.length){this.selectedIndex=-1}}else{this.value=value}}})},html:function(value){return value==undefined?(this[0]?this[0].innerHTML:null):this.empty().append(value)},replaceWith:function(value){return this.after(value).remove()},eq:function(i){return this.slice(i,i+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},andSelf:function(){return this.add(this.prevObject)},data:function(key,value){var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key)}return data===undefined&&parts[1]?this.data(parts[0]):data}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})},domManip:function(args,table,reverse,callback){var clone=this.length>1,elems;return this.each(function(){if(!elems){elems=jQuery.clean(args,this.ownerDocument);if(reverse){elems.reverse()}}var obj=this;if(table&&jQuery.nodeName(this,"table")&&jQuery.nodeName(elems[0],"tr")){obj=this.getElementsByTagName("tbody")[0]||this.appendChild(this.ownerDocument.createElement("tbody"))}var scripts=jQuery([]);jQuery.each(elems,function(){var elem=clone?jQuery(this).clone(true)[0]:this;if(jQuery.nodeName(elem,"script")){scripts=scripts.add(elem)}else{if(elem.nodeType==1){scripts=scripts.add(jQuery("script",elem).remove())}callback.call(obj,elem)}});scripts.each(evalScript)})}};jQuery.fn.init.prototype=jQuery.fn;function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"")}if(elem.parentNode){elem.parentNode.removeChild(elem)}}function now(){return +new Date}jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options;if(target.constructor==Boolean){deep=target;target=arguments[1]||{};i=2}if(typeof target!="object"&&typeof target!="function"){target={}}if(length==i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(var name in options){var src=target[name],copy=options[name];if(target===copy){continue}if(deep&&copy&&typeof copy=="object"&&!copy.nodeType){target[name]=jQuery.extend(deep,src||(copy.length!=null?[]:{}),copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};var expando="jQuery"+now(),uuid=0,windowData={},exclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,defaultView=document.defaultView||{};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isFunction:function(fn){return !!fn&&typeof fn!="string"&&!fn.nodeName&&fn.constructor!=Array&&/^[\s[]?function/.test(fn+"")},isXMLDoc:function(elem){return elem.documentElement&&!elem.body||elem.tagName&&elem.ownerDocument&&!elem.ownerDocument.body},globalEval:function(data){data=jQuery.trim(data);if(data){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.type="text/javascript";if(jQuery.browser.msie){script.text=data}else{script.appendChild(document.createTextNode(data))}head.insertBefore(script,head.firstChild);head.removeChild(script)}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()==name.toUpperCase()},cache:{},data:function(elem,name,data){elem=elem==window?windowData:elem;var id=elem[expando];if(!id){id=elem[expando]=++uuid}if(name&&!jQuery.cache[id]){jQuery.cache[id]={}}if(data!==undefined){jQuery.cache[id][name]=data}return name?jQuery.cache[id][name]:id},removeData:function(elem,name){elem=elem==window?windowData:elem;var id=elem[expando];if(name){if(jQuery.cache[id]){delete jQuery.cache[id][name];name="";for(name in jQuery.cache[id]){break}if(!name){jQuery.removeData(elem)}}}else{try{delete elem[expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando)}}delete jQuery.cache[id]}},each:function(object,callback,args){var name,i=0,length=object.length;if(args){if(length==undefined){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(length==undefined){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object},prop:function(elem,value,type,i,name){if(jQuery.isFunction(value)){value=value.call(elem,i)}return value&&value.constructor==Number&&type=="curCSS"&&!exclude.test(name)?value+"px":value},className:{add:function(elem,classNames){jQuery.each((classNames||"").split(/\s+/),function(i,className){if(elem.nodeType==1&&!jQuery.className.has(elem.className,className)){elem.className+=(elem.className?" ":"")+className}})},remove:function(elem,classNames){if(elem.nodeType==1){elem.className=classNames!=undefined?jQuery.grep(elem.className.split(/\s+/),function(className){return !jQuery.className.has(classNames,className)}).join(" "):""}},has:function(elem,className){return jQuery.inArray(className,(elem.className||elem).toString().split(/\s+/))>-1}},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(var name in options){elem.style[name]=old[name]}},css:function(elem,name,force){if(name=="width"||name=="height"){var val,props={position:"absolute",visibility:"hidden",display:"block"},which=name=="width"?["Left","Right"]:["Top","Bottom"];function getWH(){val=name=="width"?elem.offsetWidth:elem.offsetHeight;var padding=0,border=0;jQuery.each(which,function(){padding+=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0;border+=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0});val-=Math.round(padding+border)}if(jQuery(elem).is(":visible")){getWH()}else{jQuery.swap(elem,props,getWH)}return Math.max(0,val)}return jQuery.curCSS(elem,name,force)},curCSS:function(elem,name,force){var ret,style=elem.style;function color(elem){if(!jQuery.browser.safari){return false}var ret=defaultView.getComputedStyle(elem,null);return !ret||ret.getPropertyValue("color")==""}if(name=="opacity"&&jQuery.browser.msie){ret=jQuery.attr(style,"opacity");return ret==""?"1":ret}if(jQuery.browser.opera&&name=="display"){var save=style.outline;style.outline="0 solid black";style.outline=save}if(name.match(/float/i)){name=styleFloat}if(!force&&style&&style[name]){ret=style[name]}else{if(defaultView.getComputedStyle){if(name.match(/float/i)){name="float"}name=name.replace(/([A-Z])/g,"-$1").toLowerCase();var computedStyle=defaultView.getComputedStyle(elem,null);if(computedStyle&&!color(elem)){ret=computedStyle.getPropertyValue(name)}else{var swap=[],stack=[],a=elem,i=0;for(;a&&color(a);a=a.parentNode){stack.unshift(a)}for(;i<stack.length;i++){if(color(stack[i])){swap[i]=stack[i].style.display;stack[i].style.display="block"}}ret=name=="display"&&swap[stack.length-1]!=null?"none":(computedStyle&&computedStyle.getPropertyValue(name))||"";for(i=0;i<swap.length;i++){if(swap[i]!=null){stack[i].style.display=swap[i]}}}if(name=="opacity"&&ret==""){ret="1"}}else{if(elem.currentStyle){var camelCase=name.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase()});ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!/^\d+(px)?$/i.test(ret)&&/^\d/.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;style.left=ret||0;ret=style.pixelLeft+"px";style.left=left;elem.runtimeStyle.left=rsLeft}}}}return ret},clean:function(elems,context){var ret=[];context=context||document;if(typeof context.createElement=="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document}jQuery.each(elems,function(i,elem){if(!elem){return }if(elem.constructor==Number){elem+=""}if(typeof elem=="string"){elem=elem.replace(/(<(\w+)[^>]*?)\/>/g,function(all,front,tag){return tag.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?all:front+"></"+tag+">"});var tags=jQuery.trim(elem).toLowerCase(),div=context.createElement("div");var wrap=!tags.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!tags.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||tags.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!tags.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!tags.indexOf("<td")||!tags.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!tags.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||jQuery.browser.msie&&[1,"div<div>","</div>"]||[0,"",""];div.innerHTML=wrap[1]+elem+wrap[2];while(wrap[0]--){div=div.lastChild}if(jQuery.browser.msie){var tbody=!tags.indexOf("<table")&&tags.indexOf("<tbody")<0?div.firstChild&&div.firstChild.childNodes:wrap[1]=="<table>"&&tags.indexOf("<tbody")<0?div.childNodes:[];for(var j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}if(/^\s/.test(elem)){div.insertBefore(context.createTextNode(elem.match(/^\s*/)[0]),div.firstChild)}}elem=jQuery.makeArray(div.childNodes)}if(elem.length===0&&(!jQuery.nodeName(elem,"form")&&!jQuery.nodeName(elem,"select"))){return }if(elem[0]==undefined||jQuery.nodeName(elem,"form")||elem.options){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}});return ret},attr:function(elem,name,value){if(!elem||elem.nodeType==3||elem.nodeType==8){return undefined}var notxml=!jQuery.isXMLDoc(elem),set=value!==undefined,msie=jQuery.browser.msie;name=notxml&&jQuery.props[name]||name;if(elem.tagName){var special=/href|src|style/.test(name);if(name=="selected"&&jQuery.browser.safari){elem.parentNode.selectedIndex}if(name in elem&&notxml&&!special){if(set){if(name=="type"&&jQuery.nodeName(elem,"input")&&elem.parentNode){throw"type property can't be changed"}elem[name]=value}if(jQuery.nodeName(elem,"form")&&elem.getAttributeNode(name)){return elem.getAttributeNode(name).nodeValue}return elem[name]}if(msie&&notxml&&name=="style"){return jQuery.attr(elem.style,"cssText",value)}if(set){elem.setAttribute(name,""+value)}var attr=msie&&notxml&&special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr}if(msie&&name=="opacity"){if(set){elem.zoom=1;elem.filter=(elem.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(value)+""=="NaN"?"":"alpha(opacity="+value*100+")")}return elem.filter&&elem.filter.indexOf("opacity=")>=0?(parseFloat(elem.filter.match(/opacity=([^)]*)/)[1])/100)+"":""}name=name.replace(/-([a-z])/ig,function(all,letter){return letter.toUpperCase()});if(set){elem[name]=value}return elem[name]},trim:function(text){return(text||"").replace(/^\s+|\s+$/g,"")},makeArray:function(array){var ret=[];if(array!=null){var i=array.length;if(i==null||array.split||array.setInterval||array.call){ret[0]=array}else{while(i){ret[--i]=array[i]}}}return ret},inArray:function(elem,array){for(var i=0,length=array.length;i<length;i++){if(array[i]===elem){return i}}return -1},merge:function(first,second){var i=0,elem,pos=first.length;if(jQuery.browser.msie){while(elem=second[i++]){if(elem.nodeType!=8){first[pos++]=elem}}}else{while(elem=second[i++]){first[pos++]=elem}}return first},unique:function(array){var ret=[],done={};try{for(var i=0,length=array.length;i<length;i++){var id=jQuery.data(array[i]);if(!done[id]){done[id]=true;ret.push(array[i])}}}catch(e){ret=array}return ret},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i<length;i++){if(!inv!=!callback(elems[i],i)){ret.push(elems[i])}}return ret},map:function(elems,callback){var ret=[];for(var i=0,length=elems.length;i<length;i++){var value=callback(elems[i],i);if(value!=null){ret[ret.length]=value}}return ret.concat.apply([],ret)}});var userAgent=navigator.userAgent.toLowerCase();jQuery.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};var styleFloat=jQuery.browser.msie?"styleFloat":"cssFloat";jQuery.extend({boxModel:!jQuery.browser.msie||document.compatMode=="CSS1Compat",props:{"for":"htmlFor","class":"className","float":styleFloat,cssFloat:styleFloat,styleFloat:styleFloat,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing"}});jQuery.each({parent:function(elem){return elem.parentNode},parents:function(elem){return jQuery.dir(elem,"parentNode")},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(selector){var ret=jQuery.map(this,fn);if(selector&&typeof selector=="string"){ret=jQuery.multiFilter(selector,ret)}return this.pushStack(jQuery.unique(ret))}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(){var args=arguments;return this.each(function(){for(var i=0,length=args.length;i<length;i++){jQuery(args[i])[original](this)}})}});jQuery.each({removeAttr:function(name){jQuery.attr(this,name,"");if(this.nodeType==1){this.removeAttribute(name)}},addClass:function(classNames){jQuery.className.add(this,classNames)},removeClass:function(classNames){jQuery.className.remove(this,classNames)},toggleClass:function(classNames){jQuery.className[jQuery.className.has(this,classNames)?"remove":"add"](this,classNames)},remove:function(selector){if(!selector||jQuery.filter(selector,[this]).r.length){jQuery("*",this).add(this).each(function(){jQuery.event.remove(this);jQuery.removeData(this)});if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){jQuery(">*",this).remove();while(this.firstChild){this.removeChild(this.firstChild)}}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments)}});jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn[type]=function(size){return this[0]==window?jQuery.browser.opera&&document.body["client"+name]||jQuery.browser.safari&&window["inner"+name]||document.compatMode=="CSS1Compat"&&document.documentElement["client"+name]||document.body["client"+name]:this[0]==document?Math.max(Math.max(document.body["scroll"+name],document.documentElement["scroll"+name]),Math.max(document.body["offset"+name],document.documentElement["offset"+name])):size==undefined?(this.length?jQuery.css(this[0],type):null):this.css(type,size.constructor==String?size:size+"px")}});function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,true),10)||0}var chars=jQuery.browser.safari&&parseInt(jQuery.browser.version)<417?"(?:[\\w*_-]|\\\\.)":"(?:[\\w\u0128-\uFFFF*_-]|\\\\.)",quickChild=new RegExp("^>\\s*("+chars+"+)"),quickID=new RegExp("^("+chars+"+)(#)("+chars+"+)"),quickClass=new RegExp("^([#.]?)("+chars+"*)");jQuery.extend({expr:{"":function(a,i,m){return m[2]=="*"||jQuery.nodeName(a,m[2])},"#":function(a,i,m){return a.getAttribute("id")==m[2]},":":{lt:function(a,i,m){return i<m[3]-0},gt:function(a,i,m){return i>m[3]-0},nth:function(a,i,m){return m[3]-0==i},eq:function(a,i,m){return m[3]-0==i},first:function(a,i){return i==0},last:function(a,i,m,r){return i==r.length-1},even:function(a,i){return i%2==0},odd:function(a,i){return i%2},"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]==a},"last-child":function(a){return jQuery.nth(a.parentNode.lastChild,1,"previousSibling")==a},"only-child":function(a){return !jQuery.nth(a.parentNode.lastChild,2,"previousSibling")},parent:function(a){return a.firstChild},empty:function(a){return !a.firstChild},contains:function(a,i,m){return(a.textContent||a.innerText||jQuery(a).text()||"").indexOf(m[3])>=0},visible:function(a){return"hidden"!=a.type&&jQuery.css(a,"display")!="none"&&jQuery.css(a,"visibility")!="hidden"},hidden:function(a){return"hidden"==a.type||jQuery.css(a,"display")=="none"||jQuery.css(a,"visibility")=="hidden"},enabled:function(a){return !a.disabled},disabled:function(a){return a.disabled},checked:function(a){return a.checked},selected:function(a){return a.selected||jQuery.attr(a,"selected")},text:function(a){return"text"==a.type},radio:function(a){return"radio"==a.type},checkbox:function(a){return"checkbox"==a.type},file:function(a){return"file"==a.type},password:function(a){return"password"==a.type},submit:function(a){return"submit"==a.type},image:function(a){return"image"==a.type},reset:function(a){return"reset"==a.type},button:function(a){return"button"==a.type||jQuery.nodeName(a,"button")},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},has:function(a,i,m){return jQuery.find(m[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},animated:function(a){return jQuery.grep(jQuery.timers,function(fn){return a==fn.elem}).length}}},parse:[/^(\[) *@?([\w-]+) *([!*$^~=]*) *('?"?)(.*?)\4 *\]/,/^(:)([\w-]+)\("?'?(.*?(\(.*?\))?[^(]*?)"?'?\)/,new RegExp("^([:.#]*)("+chars+"+)")],multiFilter:function(expr,elems,not){var old,cur=[];while(expr&&expr!=old){old=expr;var f=jQuery.filter(expr,elems,not);expr=f.t.replace(/^\s*,\s*/,"");cur=not?elems=f.r:jQuery.merge(cur,f.r)}return cur},find:function(t,context){if(typeof t!="string"){return[t]}if(context&&context.nodeType!=1&&context.nodeType!=9){return[]}context=context||document;var ret=[context],done=[],last,nodeName;while(t&&last!=t){var r=[];last=t;t=jQuery.trim(t);var foundToken=false,re=quickChild,m=re.exec(t);if(m){nodeName=m[1].toUpperCase();for(var i=0;ret[i];i++){for(var c=ret[i].firstChild;c;c=c.nextSibling){if(c.nodeType==1&&(nodeName=="*"||c.nodeName.toUpperCase()==nodeName)){r.push(c)}}}ret=r;t=t.replace(re,"");if(t.indexOf(" ")==0){continue}foundToken=true}else{re=/^([>+~])\s*(\w*)/i;if((m=re.exec(t))!=null){r=[];var merge={};nodeName=m[2].toUpperCase();m=m[1];for(var j=0,rl=ret.length;j<rl;j++){var n=m=="~"||m=="+"?ret[j].nextSibling:ret[j].firstChild;for(;n;n=n.nextSibling){if(n.nodeType==1){var id=jQuery.data(n);if(m=="~"&&merge[id]){break}if(!nodeName||n.nodeName.toUpperCase()==nodeName){if(m=="~"){merge[id]=true}r.push(n)}if(m=="+"){break}}}}ret=r;t=jQuery.trim(t.replace(re,""));foundToken=true}}if(t&&!foundToken){if(!t.indexOf(",")){if(context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);r=ret=[context];t=" "+t.substr(1,t.length)}else{var re2=quickID;var m=re2.exec(t);if(m){m=[0,m[2],m[3],m[1]]}else{re2=quickClass;m=re2.exec(t)}m[2]=m[2].replace(/\\/g,"");var elem=ret[ret.length-1];if(m[1]=="#"&&elem&&elem.getElementById&&!jQuery.isXMLDoc(elem)){var oid=elem.getElementById(m[2]);if((jQuery.browser.msie||jQuery.browser.opera)&&oid&&typeof oid.id=="string"&&oid.id!=m[2]){oid=jQuery('[@id="'+m[2]+'"]',elem)[0]}ret=r=oid&&(!m[3]||jQuery.nodeName(oid,m[3]))?[oid]:[]}else{for(var i=0;ret[i];i++){var tag=m[1]=="#"&&m[3]?m[3]:m[1]!=""||m[0]==""?"*":m[2];if(tag=="*"&&ret[i].nodeName.toLowerCase()=="object"){tag="param"}r=jQuery.merge(r,ret[i].getElementsByTagName(tag))}if(m[1]=="."){r=jQuery.classFilter(r,m[2])}if(m[1]=="#"){var tmp=[];for(var i=0;r[i];i++){if(r[i].getAttribute("id")==m[2]){tmp=[r[i]];break}}r=tmp}ret=r}t=t.replace(re2,"")}}if(t){var val=jQuery.filter(t,r);ret=r=val.r;t=jQuery.trim(val.t)}}if(t){ret=[]}if(ret&&context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);return done},classFilter:function(r,m,not){m=" "+m+" ";var tmp=[];for(var i=0;r[i];i++){var pass=(" "+r[i].className+" ").indexOf(m)>=0;if(!not&&pass||not&&!pass){tmp.push(r[i])}}return tmp},filter:function(t,r,not){var last;while(t&&t!=last){last=t;var p=jQuery.parse,m;for(var i=0;p[i];i++){m=p[i].exec(t);if(m){t=t.substring(m[0].length);m[2]=m[2].replace(/\\/g,"");break}}if(!m){break}if(m[1]==":"&&m[2]=="not"){r=isSimple.test(m[3])?jQuery.filter(m[3],r,true).r:jQuery(r).not(m[3])}else{if(m[1]=="."){r=jQuery.classFilter(r,m[2],not)}else{if(m[1]=="["){var tmp=[],type=m[3];for(var i=0,rl=r.length;i<rl;i++){var a=r[i],z=a[jQuery.props[m[2]]||m[2]];if(z==null||/href|src|selected/.test(m[2])){z=jQuery.attr(a,m[2])||""}if((type==""&&!!z||type=="="&&z==m[5]||type=="!="&&z!=m[5]||type=="^="&&z&&!z.indexOf(m[5])||type=="$="&&z.substr(z.length-m[5].length)==m[5]||(type=="*="||type=="~=")&&z.indexOf(m[5])>=0)^not){tmp.push(a)}}r=tmp}else{if(m[1]==":"&&m[2]=="nth-child"){var merge={},tmp=[],test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(m[3]=="even"&&"2n"||m[3]=="odd"&&"2n+1"||!/\D/.test(m[3])&&"0n+"+m[3]||m[3]),first=(test[1]+(test[2]||1))-0,last=test[3]-0;for(var i=0,rl=r.length;i<rl;i++){var node=r[i],parentNode=node.parentNode,id=jQuery.data(parentNode);if(!merge[id]){var c=1;for(var n=parentNode.firstChild;n;n=n.nextSibling){if(n.nodeType==1){n.nodeIndex=c++}}merge[id]=true}var add=false;if(first==0){if(node.nodeIndex==last){add=true}}else{if((node.nodeIndex-last)%first==0&&(node.nodeIndex-last)/first>=0){add=true}}if(add^not){tmp.push(node)}}r=tmp}else{var fn=jQuery.expr[m[1]];if(typeof fn=="object"){fn=fn[m[2]]}if(typeof fn=="string"){fn=eval("false||function(a,i){return "+fn+";}")}r=jQuery.grep(r,function(elem,i){return fn(elem,i,m,r)},not)}}}}}return{r:r,t:t}},dir:function(elem,dir){var matched=[],cur=elem[dir];while(cur&&cur!=document){if(cur.nodeType==1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType==1&&++num==result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType==1&&n!=elem){r.push(n)}}return r}});jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType==3||elem.nodeType==8){return }if(jQuery.browser.msie&&elem.setInterval){elem=window}if(!handler.guid){handler.guid=this.guid++}if(data!=undefined){var fn=handler;handler=this.proxy(fn,function(){return fn.apply(this,arguments)});handler.data=data}var events=jQuery.data(elem,"events")||jQuery.data(elem,"events",{}),handle=jQuery.data(elem,"handle")||jQuery.data(elem,"handle",function(){if(typeof jQuery!="undefined"&&!jQuery.event.triggered){return jQuery.event.handle.apply(arguments.callee.elem,arguments)}});handle.elem=elem;jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");type=parts[0];handler.type=parts[1];var handlers=events[type];if(!handlers){handlers=events[type]={};if(!jQuery.event.special[type]||jQuery.event.special[type].setup.call(elem)===false){if(elem.addEventListener){elem.addEventListener(type,handle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,handle)}}}}handlers[handler.guid]=handler;jQuery.event.global[type]=true});elem=null},guid:1,global:{},remove:function(elem,types,handler){if(elem.nodeType==3||elem.nodeType==8){return }var events=jQuery.data(elem,"events"),ret,index;if(events){if(types==undefined||(typeof types=="string"&&types.charAt(0)==".")){for(var type in events){this.remove(elem,type+(types||""))}}else{if(types.type){handler=types.handler;types=types.type}jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");type=parts[0];if(events[type]){if(handler){delete events[type][handler.guid]}else{for(handler in events[type]){if(!parts[1]||events[type][handler].type==parts[1]){delete events[type][handler]}}}for(ret in events[type]){break}if(!ret){if(!jQuery.event.special[type]||jQuery.event.special[type].teardown.call(elem)===false){if(elem.removeEventListener){elem.removeEventListener(type,jQuery.data(elem,"handle"),false)}else{if(elem.detachEvent){elem.detachEvent("on"+type,jQuery.data(elem,"handle"))}}}ret=null;delete events[type]}}})}for(ret in events){break}if(!ret){var handle=jQuery.data(elem,"handle");if(handle){handle.elem=null}jQuery.removeData(elem,"events");jQuery.removeData(elem,"handle")}}},trigger:function(type,data,elem,donative,extra){data=jQuery.makeArray(data);if(type.indexOf("!")>=0){type=type.slice(0,-1);var exclusive=true}if(!elem){if(this.global[type]){jQuery("*").add([window,document]).trigger(type,data)}}else{if(elem.nodeType==3||elem.nodeType==8){return undefined}var val,ret,fn=jQuery.isFunction(elem[type]||null),event=!data[0]||!data[0].preventDefault;if(event){data.unshift({type:type,target:elem,preventDefault:function(){},stopPropagation:function(){},timeStamp:now()});data[0][expando]=true}data[0].type=type;if(exclusive){data[0].exclusive=true}var handle=jQuery.data(elem,"handle");if(handle){val=handle.apply(elem,data)}if((!fn||(jQuery.nodeName(elem,"a")&&type=="click"))&&elem["on"+type]&&elem["on"+type].apply(elem,data)===false){val=false}if(event){data.shift()}if(extra&&jQuery.isFunction(extra)){ret=extra.apply(elem,val==null?data:data.concat(val));if(ret!==undefined){val=ret}}if(fn&&donative!==false&&val!==false&&!(jQuery.nodeName(elem,"a")&&type=="click")){this.triggered=true;try{elem[type]()}catch(e){}}this.triggered=false}return val},handle:function(event){var val,ret,namespace,all,handlers;event=arguments[0]=jQuery.event.fix(event||window.event);namespace=event.type.split(".");event.type=namespace[0];namespace=namespace[1];all=!namespace&&!event.exclusive;handlers=(jQuery.data(this,"events")||{})[event.type];for(var j in handlers){var handler=handlers[j];if(all||handler.type==namespace){event.handler=handler;event.data=handler.data;ret=handler.apply(this,arguments);if(val!==false){val=ret}if(ret===false){event.preventDefault();event.stopPropagation()}}}return val},fix:function(event){if(event[expando]==true){return event}var originalEvent=event;event={originalEvent:originalEvent};var props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target timeStamp toElement type view wheelDelta which".split(" ");for(var i=props.length;i;i--){event[props[i]]=originalEvent[props[i]]}event[expando]=true;event.preventDefault=function(){if(originalEvent.preventDefault){originalEvent.preventDefault()}originalEvent.returnValue=false};event.stopPropagation=function(){if(originalEvent.stopPropagation){originalEvent.stopPropagation()}originalEvent.cancelBubble=true};event.timeStamp=event.timeStamp||now();if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType==3){event.target=event.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement==event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc.clientTop||0)}if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},proxy:function(fn,proxy){proxy.guid=fn.guid=fn.guid||proxy.guid||this.guid++;return proxy},special:{ready:{setup:function(){bindReady();return },teardown:function(){return }},mouseenter:{setup:function(){if(jQuery.browser.msie){return false}jQuery(this).bind("mouseover",jQuery.event.special.mouseenter.handler);return true},teardown:function(){if(jQuery.browser.msie){return false}jQuery(this).unbind("mouseover",jQuery.event.special.mouseenter.handler);return true},handler:function(event){if(withinElement(event,this)){return true}event.type="mouseenter";return jQuery.event.handle.apply(this,arguments)}},mouseleave:{setup:function(){if(jQuery.browser.msie){return false}jQuery(this).bind("mouseout",jQuery.event.special.mouseleave.handler);return true},teardown:function(){if(jQuery.browser.msie){return false}jQuery(this).unbind("mouseout",jQuery.event.special.mouseleave.handler);return true},handler:function(event){if(withinElement(event,this)){return true}event.type="mouseleave";return jQuery.event.handle.apply(this,arguments)}}}};jQuery.fn.extend({bind:function(type,data,fn){return type=="unload"?this.one(type,data,fn):this.each(function(){jQuery.event.add(this,type,fn||data,fn&&data)})},one:function(type,data,fn){var one=jQuery.event.proxy(fn||data,function(event){jQuery(this).unbind(event,one);return(fn||data).apply(this,arguments)});return this.each(function(){jQuery.event.add(this,type,one,fn&&data)})},unbind:function(type,fn){return this.each(function(){jQuery.event.remove(this,type,fn)})},trigger:function(type,data,fn){return this.each(function(){jQuery.event.trigger(type,data,this,true,fn)})},triggerHandler:function(type,data,fn){return this[0]&&jQuery.event.trigger(type,data,this[0],false,fn)},toggle:function(fn){var args=arguments,i=1;while(i<args.length){jQuery.event.proxy(fn,args[i++])}return this.click(jQuery.event.proxy(fn,function(event){this.lastToggle=(this.lastToggle||0)%i;event.preventDefault();return args[this.lastToggle++].apply(this,arguments)||false}))},hover:function(fnOver,fnOut){return this.bind("mouseenter",fnOver).bind("mouseleave",fnOut)},ready:function(fn){bindReady();if(jQuery.isReady){fn.call(document,jQuery)}else{jQuery.readyList.push(function(){return fn.call(this,jQuery)})}return this}});jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){jQuery.isReady=true;if(jQuery.readyList){jQuery.each(jQuery.readyList,function(){this.call(document)});jQuery.readyList=null}jQuery(document).triggerHandler("ready")}}});var readyBound=false;function bindReady(){if(readyBound){return }readyBound=true;if(document.addEventListener&&!jQuery.browser.opera){document.addEventListener("DOMContentLoaded",jQuery.ready,false)}if(jQuery.browser.msie&&window==top){(function(){if(jQuery.isReady){return }try{document.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return }jQuery.ready()})()}if(jQuery.browser.opera){document.addEventListener("DOMContentLoaded",function(){if(jQuery.isReady){return }for(var i=0;i<document.styleSheets.length;i++){if(document.styleSheets[i].disabled){setTimeout(arguments.callee,0);return }}jQuery.ready()},false)}if(jQuery.browser.safari){var numStyles;(function(){if(jQuery.isReady){return }if(document.readyState!="loaded"&&document.readyState!="complete"){setTimeout(arguments.callee,0);return }if(numStyles===undefined){numStyles=jQuery("style, link[rel=stylesheet]").length}if(document.styleSheets.length!=numStyles){setTimeout(arguments.callee,0);return }jQuery.ready()})()}jQuery.event.add(window,"load",jQuery.ready)}jQuery.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,change,select,submit,keydown,keypress,keyup,error").split(","),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)}});var withinElement=function(event,elem){var parent=event.relatedTarget;while(parent&&parent!=elem){try{parent=parent.parentNode}catch(error){parent=elem}}return parent==elem};jQuery(window).bind("unload",function(){jQuery("*").add(document).unbind()});jQuery.fn.extend({_load:jQuery.fn.load,load:function(url,params,callback){if(typeof url!="string"){return this._load(url)}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}callback=callback||function(){};var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{params=jQuery.param(params);type="POST"}}var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(res,status){if(status=="success"||status=="notmodified"){self.html(selector?jQuery("<div/>").append(res.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):res.responseText)}self.each(callback,[res.responseText,status,res])}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return jQuery.nodeName(this,"form")?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:val.constructor==Array?jQuery.map(val,function(val,i){return{name:elem.name,value:val}}):{name:elem.name,value:val}}).get()}});jQuery.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});var jsc=now();jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type})},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{url:location.href,global:true,type:"GET",timeout:0,contentType:"application/x-www-form-urlencoded",processData:true,async:true,data:null,username:null,password:null,accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(s){s=jQuery.extend(true,s,jQuery.extend(true,{},jQuery.ajaxSettings,s));var jsonp,jsre=/=\?(&|$)/g,status,data,type=s.type.toUpperCase();if(s.data&&s.processData&&typeof s.data!="string"){s.data=jQuery.param(s.data)}if(s.dataType=="jsonp"){if(type=="GET"){if(!s.url.match(jsre)){s.url+=(s.url.match(/\?/)?"&":"?")+(s.jsonp||"callback")+"=?"}}else{if(!s.data||!s.data.match(jsre)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?"}}s.dataType="json"}if(s.dataType=="json"&&(s.data&&s.data.match(jsre)||s.url.match(jsre))){jsonp="jsonp"+jsc++;if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1")}s.url=s.url.replace(jsre,"="+jsonp+"$1");s.dataType="script";window[jsonp]=function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp]}catch(e){}if(head){head.removeChild(script)}}}if(s.dataType=="script"&&s.cache==null){s.cache=false}if(s.cache===false&&type=="GET"){var ts=now();var ret=s.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+ts+"$2");s.url=ret+((ret==s.url)?(s.url.match(/\?/)?"&":"?")+"_="+ts:"")}if(s.data&&type=="GET"){s.url+=(s.url.match(/\?/)?"&":"?")+s.data;s.data=null}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var remote=/^(?:\w+:)?\/\/([^\/?#]+)/;if(s.dataType=="script"&&type=="GET"&&remote.test(s.url)&&remote.exec(s.url)[1]!=location.host){var head=document.getElementsByTagName("head")[0];var script=document.createElement("script");script.src=s.url;if(s.scriptCharset){script.charset=s.scriptCharset}if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){done=true;success();complete();head.removeChild(script)}}}head.appendChild(script);return undefined}var requestDone=false;var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest();if(s.username){xhr.open(type,s.url,s.async,s.username,s.password)}else{xhr.open(type,s.url,s.async)}try{if(s.data){xhr.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){xhr.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default)}catch(e){}if(s.beforeSend&&s.beforeSend(xhr,s)===false){s.global&&jQuery.active--;xhr.abort();return false}if(s.global){jQuery.event.trigger("ajaxSend",[xhr,s])}var onreadystatechange=function(isTimeout){if(!requestDone&&xhr&&(xhr.readyState==4||isTimeout=="timeout")){requestDone=true;if(ival){clearInterval(ival);ival=null}status=isTimeout=="timeout"&&"timeout"||!jQuery.httpSuccess(xhr)&&"error"||s.ifModified&&jQuery.httpNotModified(xhr,s.url)&&"notmodified"||"success";if(status=="success"){try{data=jQuery.httpData(xhr,s.dataType,s.dataFilter)}catch(e){status="parsererror"}}if(status=="success"){var modRes;try{modRes=xhr.getResponseHeader("Last-Modified")}catch(e){}if(s.ifModified&&modRes){jQuery.lastModified[s.url]=modRes}if(!jsonp){success()}}else{jQuery.handleError(s,xhr,status)}complete();if(s.async){xhr=null}}};if(s.async){var ival=setInterval(onreadystatechange,13);if(s.timeout>0){setTimeout(function(){if(xhr){xhr.abort();if(!requestDone){onreadystatechange("timeout")}}},s.timeout)}}try{xhr.send(s.data)}catch(e){jQuery.handleError(s,xhr,null,e)}if(!s.async){onreadystatechange()}function success(){if(s.success){s.success(data,status)}if(s.global){jQuery.event.trigger("ajaxSuccess",[xhr,s])}}function complete(){if(s.complete){s.complete(xhr,status)}if(s.global){jQuery.event.trigger("ajaxComplete",[xhr,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}return xhr},handleError:function(s,xhr,status,e){if(s.error){s.error(xhr,status,e)}if(s.global){jQuery.event.trigger("ajaxError",[xhr,s,e])}},active:0,httpSuccess:function(xhr){try{return !xhr.status&&location.protocol=="file:"||(xhr.status>=200&&xhr.status<300)||xhr.status==304||xhr.status==1223||jQuery.browser.safari&&xhr.status==undefined}catch(e){}return false},httpNotModified:function(xhr,url){try{var xhrRes=xhr.getResponseHeader("Last-Modified");return xhr.status==304||xhrRes==jQuery.lastModified[url]||jQuery.browser.safari&&xhr.status==undefined}catch(e){}return false},httpData:function(xhr,type,filter){var ct=xhr.getResponseHeader("content-type"),xml=type=="xml"||!type&&ct&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.tagName=="parsererror"){throw"parsererror"}if(filter){data=filter(data,type)}if(type=="script"){jQuery.globalEval(data)}if(type=="json"){data=eval("("+data+")")}return data},param:function(a){var s=[];if(a.constructor==Array||a.jquery){jQuery.each(a,function(){s.push(encodeURIComponent(this.name)+"="+encodeURIComponent(this.value))})}else{for(var j in a){if(a[j]&&a[j].constructor==Array){jQuery.each(a[j],function(){s.push(encodeURIComponent(j)+"="+encodeURIComponent(this))})}else{s.push(encodeURIComponent(j)+"="+encodeURIComponent(jQuery.isFunction(a[j])?a[j]():a[j]))}}}return s.join("&").replace(/%20/g,"+")}});jQuery.fn.extend({show:function(speed,callback){return speed?this.animate({height:"show",width:"show",opacity:"show"},speed,callback):this.filter(":hidden").each(function(){this.style.display=this.oldblock||"";if(jQuery.css(this,"display")=="none"){var elem=jQuery("<"+this.tagName+" />").appendTo("body");this.style.display=elem.css("display");if(this.style.display=="none"){this.style.display="block"}elem.remove()}}).end()},hide:function(speed,callback){return speed?this.animate({height:"hide",width:"hide",opacity:"hide"},speed,callback):this.filter(":visible").each(function(){this.oldblock=this.oldblock||jQuery.css(this,"display");this.style.display="none"}).end()},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle.apply(this,arguments):fn?this.animate({height:"toggle",width:"toggle",opacity:"toggle"},fn,fn2):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"]()})},slideDown:function(speed,callback){return this.animate({height:"show"},speed,callback)},slideUp:function(speed,callback){return this.animate({height:"hide"},speed,callback)},slideToggle:function(speed,callback){return this.animate({height:"toggle"},speed,callback)},fadeIn:function(speed,callback){return this.animate({opacity:"show"},speed,callback)},fadeOut:function(speed,callback){return this.animate({opacity:"hide"},speed,callback)},fadeTo:function(speed,to,callback){return this.animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);return this[optall.queue===false?"each":"queue"](function(){if(this.nodeType!=1){return false}var opt=jQuery.extend({},optall),p,hidden=jQuery(this).is(":hidden"),self=this;for(p in prop){if(prop[p]=="hide"&&hidden||prop[p]=="show"&&!hidden){return opt.complete.call(this)}if(p=="height"||p=="width"){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}}if(opt.overflow!=null){this.style.overflow="hidden"}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(/toggle|show|hide/.test(val)){e[val=="toggle"?hidden?"show":"hide":val](prop)}else{var parts=val.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit}if(parts[1]){end=((parts[1]=="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}});return true})},queue:function(type,fn){if(jQuery.isFunction(type)||(type&&type.constructor==Array)){fn=type;type="fx"}if(!type||(typeof type=="string"&&!fn)){return queue(this[0],type)}return this.each(function(){if(fn.constructor==Array){queue(this,type,fn)}else{queue(this,type).push(fn);if(queue(this,type).length==1){fn.call(this)}}})},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue){this.queue([])}this.each(function(){for(var i=timers.length-1;i>=0;i--){if(timers[i].elem==this){if(gotoEnd){timers[i](true)}timers.splice(i,1)}}});if(!gotoEnd){this.dequeue()}return this}});var queue=function(elem,type,array){if(elem){type=type||"fx";var q=jQuery.data(elem,type+"queue");if(!q||array){q=jQuery.data(elem,type+"queue",jQuery.makeArray(array))}}return q};jQuery.fn.dequeue=function(type){type=type||"fx";return this.each(function(){var q=queue(this,type);q.shift();if(q.length){q[0].call(this)}})};jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&speed.constructor==Object?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&easing.constructor!=Function&&easing};opt.duration=(opt.duration&&opt.duration.constructor==Number?opt.duration:jQuery.fx.speeds[opt.duration])||jQuery.fx.speeds.def;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue()}if(jQuery.isFunction(opt.old)){opt.old.call(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],timerId:null,fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={}}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if(this.prop=="height"||this.prop=="width"){this.elem.style.display="block"}},cur:function(force){if(this.elem[this.prop]!=null&&this.elem.style[this.prop]==null){return this.elem[this.prop]}var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&&r>-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0},custom:function(from,to,unit){this.startTime=now();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;this.update();var self=this;function t(gotoEnd){return self.step(gotoEnd)}t.elem=this.elem;jQuery.timers.push(t);if(jQuery.timerId==null){jQuery.timerId=setInterval(function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){clearInterval(jQuery.timerId);jQuery.timerId=null}},13)}},show:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.show=true;this.custom(0,this.cur());if(this.prop=="width"||this.prop=="height"){this.elem.style[this.prop]="1px"}jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var t=now();if(gotoEnd||t>this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var done=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(jQuery.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){this.elem.style.display="none"}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.attr(this.elem.style,p,this.options.orig[p])}}}if(done){this.options.complete.call(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;this.pos=jQuery.easing[this.options.easing||(jQuery.easing.swing?"swing":"linear")](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};jQuery.extend(jQuery.fx,{speeds:{slow:600,fast:200,def:400},step:{scrollLeft:function(fx){fx.elem.scrollLeft=fx.now},scrollTop:function(fx){fx.elem.scrollTop=fx.now},opacity:function(fx){jQuery.attr(fx.elem.style,"opacity",fx.now)},_default:function(fx){fx.elem.style[fx.prop]=fx.now+fx.unit}}});jQuery.fn.offset=function(){var left=0,top=0,elem=this[0],results;if(elem){with(jQuery.browser){var parent=elem.parentNode,offsetChild=elem,offsetParent=elem.offsetParent,doc=elem.ownerDocument,safari2=safari&&parseInt(version)<522&&!/adobeair/i.test(userAgent),css=jQuery.curCSS,fixed=css(elem,"position")=="fixed";if(elem.getBoundingClientRect){var box=elem.getBoundingClientRect();add(box.left+Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),box.top+Math.max(doc.documentElement.scrollTop,doc.body.scrollTop));add(-doc.documentElement.clientLeft,-doc.documentElement.clientTop)}else{add(elem.offsetLeft,elem.offsetTop);while(offsetParent){add(offsetParent.offsetLeft,offsetParent.offsetTop);if(mozilla&&!/^t(able|d|h)$/i.test(offsetParent.tagName)||safari&&!safari2){border(offsetParent)}if(!fixed&&css(offsetParent,"position")=="fixed"){fixed=true}offsetChild=/^body$/i.test(offsetParent.tagName)?offsetChild:offsetParent;offsetParent=offsetParent.offsetParent}while(parent&&parent.tagName&&!/^body|html$/i.test(parent.tagName)){if(!/^inline|table.*$/i.test(css(parent,"display"))){add(-parent.scrollLeft,-parent.scrollTop)}if(mozilla&&css(parent,"overflow")!="visible"){border(parent)}parent=parent.parentNode}if((safari2&&(fixed||css(offsetChild,"position")=="absolute"))||(mozilla&&css(offsetChild,"position")!="absolute")){add(-doc.body.offsetLeft,-doc.body.offsetTop)}if(fixed){add(Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),Math.max(doc.documentElement.scrollTop,doc.body.scrollTop))}}results={top:top,left:left}}}function border(elem){add(jQuery.curCSS(elem,"borderLeftWidth",true),jQuery.curCSS(elem,"borderTopWidth",true))}function add(l,t){left+=parseInt(l,10)||0;top+=parseInt(t,10)||0}return results};jQuery.fn.extend({position:function(){var left=0,top=0,results;if(this[0]){var offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].tagName)?{top:0,left:0}:offsetParent.offset();offset.top-=num(this,"marginTop");offset.left-=num(this,"marginLeft");parentOffset.top+=num(offsetParent,"borderTopWidth");parentOffset.left+=num(offsetParent,"borderLeftWidth");results={top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}return results},offsetParent:function(){var offsetParent=this[0].offsetParent;while(offsetParent&&(!/^body|html$/i.test(offsetParent.tagName)&&jQuery.css(offsetParent,"position")=="static")){offsetParent=offsetParent.offsetParent}return jQuery(offsetParent)}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){if(!this[0]){return }return val!=undefined?this.each(function(){this==window||this==document?window.scrollTo(!i?val:jQuery(window).scrollLeft(),i?val:jQuery(window).scrollTop()):this[method]=val}):this[0]==window||this[0]==document?self[i?"pageYOffset":"pageXOffset"]||jQuery.boxModel&&document.documentElement[method]||document.body[method]:this[0][method]}});jQuery.each(["Height","Width"],function(i,name){var tl=i?"Left":"Top",br=i?"Right":"Bottom";jQuery.fn["inner"+name]=function(){return this[name.toLowerCase()]()+num(this,"padding"+tl)+num(this,"padding"+br)};jQuery.fn["outer"+name]=function(margin){return this["inner"+name]()+num(this,"border"+tl+"Width")+num(this,"border"+br+"Width")+(margin?num(this,"margin"+tl)+num(this,"margin"+br):0)}})})()}(function($){
/*
 ******************************************************************************
  uri_funcs.js - URI functions based on STD 66 / RFC 3986

  Author (original): Mike J. Brown <mike at skew.org>
  Version: 2007-01-04

  License: Unrestricted use and distribution with any modifications permitted,
  so long as:
  1. Modifications are attributed to their author(s);
  2. The original author remains credited;
  3. Additions derived from other code libraries are credited to their sources
  and used under the terms of their licenses.

*******************************************************************************/
var absoluteUriRefRegex=/^[A-Z][0-9A-Z+\-\.]*:/i;var splitUriRefRegex=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/;var reMissingGroupSupport=(typeof "".match(/(a)?/)[1]!="string");URI={};URI.isAbsolute=function(uriRef){return absoluteUriRefRegex.test(uriRef)};URI.splitUriRef=function(uriRef){var parts=uriRef.match(splitUriRefRegex);parts.shift();var scheme=parts[1],auth=parts[3],path=parts[4],query=parts[6],frag=parts[8];if(!reMissingGroupSupport){var undef;if(parts[0]==""){scheme=undef}if(parts[2]==""){auth=undef}if(parts[5]==""){query=undef}if(parts[7]==""){frag=undef}}parts=[scheme,auth,this.uriPathRemoveDotSegments(path),query,frag];return parts};URI.unsplitUriRef=function(uriRefSeq){var uriRef="";if(typeof uriRefSeq[0]!="undefined"){uriRef+=uriRefSeq[0]+":"}if(typeof uriRefSeq[1]!="undefined"){uriRef+="//"+uriRefSeq[1]}uriRef+=uriRefSeq[2];if(typeof uriRefSeq[3]!="undefined"){uriRef+="?"+uriRefSeq[3]}if(typeof uriRefSeq[4]!="undefined"){uriRef+="#"+uriRefSeq[4]}return uriRef};URI.uriPathRemoveDotSegments=function(path){if(path=="."||path==".."){return""}while(path){if(path.substring(0,2)=="./"){path=path.substring(2)}else{if(path.substring(0,3)=="../"){path=path.substring(3)}else{if(path.substring(0,2)=="//"){path=path.substring(1)}else{break}}}}var leading_slash=false;if(path.charAt(0)=="/"){path=path.substring(1);if(path.charAt(0)=="/"){path=path.substring(1)}leading_slash=true}if(path.substring(path.length-2)=="/."){path=path.substring(0,path.length-1)}var segments=path.split("/");var keepers=[];segments=segments.reverse();while(segments.length){var seg=segments.pop();if(seg==".."){if(keepers.length){keepers.pop()}else{if(!leading_slash){keepers.push(seg)}}if(!segments.length){keepers.push("")}}else{if(seg!="."){keepers.push(seg)}}}return(leading_slash&&"/"||"")+keepers.join("/")};URI.absolutizeURI=function(uriRef,baseUri){if(!baseUri||!URI.isAbsolute(baseUri)){throw Error("baseUri '"+baseUri+"' is not absolute")}if(uriRef==""||uriRef.charAt(0)=="#"){return baseUri.split("#")[0]+uriRef}var tScheme,tAuth,tPath,tQuery;var parts=URI.splitUriRef(uriRef);var rScheme=parts[0],rAuth=parts[1],rPath=parts[2],rQuery=parts[3],rFrag=parts[4];if(typeof rScheme!="undefined"){var tScheme=rScheme;var tAuth=rAuth;var tPath=URI.uriPathRemoveDotSegments(rPath);var tQuery=rQuery}else{parts=URI.splitUriRef(baseUri);var bScheme=parts[0],bAuth=parts[1],bPath=parts[2],bQuery=parts[3],bFrag=parts[4];if(typeof rAuth!="undefined"){tAuth=rAuth;tPath=URI.uriPathRemoveDotSegments(rPath);tQuery=rQuery}else{if(!rPath){tPath=bPath;tQuery=(typeof rQuery!="undefined"&&rQuery||bQuery)}else{if(rPath.charAt(0)=="/"){tPath=URI.uriPathRemoveDotSegments(rPath)}else{if(typeof bAuth!="undefined"&&!bPath){tPath="/"+rPath}else{tPath=bPath.substring(0,bPath.lastIndexOf("/")+1)+rPath}tPath=URI.uriPathRemoveDotSegments(tPath)}tQuery=rQuery}tAuth=bAuth}tScheme=bScheme}var result=URI.unsplitUriRef([tScheme,tAuth,tPath,tQuery,rFrag]);return result};App=AppC={};AppC.Version={value:"3.0.0",major:parseInt("3"),minor:parseInt("0"),revision:parseInt("0"),date:"10/22/2008",toString:function(){return this.value}};var started=new Date;var compileTime;var loadTime;AppC.LicenseType="Apache License Version 2.0 - see http://license.appcelerator.org";AppC.Copyright="Copyright (c) 2006-"+(1900+started.getYear())+" by Appcelerator, Inc. All Rights Reserved.";AppC.LicenseMessage="Appcelerator is licensed under "+AppC.LicenseType;var docRoot;var idx=top.window.document.location.href.lastIndexOf("/");if(idx==top.window.document.location.href.length-1){docRoot=top.window.document.location.href}else{docRoot=top.window.document.location.href.substr(0,idx);if(docRoot.substring(docRoot.length-1)!="/"){docRoot=docRoot+"/"}}AppC.config={track_stats:true,report_stats:true,browser_check:true,auto_locale:false};AppC.params={debug:0,delayCompile:false,};function queryString(uri,params){idx=uri.indexOf("?");params=params||{};if(idx>0){var qs=uri.substring(idx+1);$.each(qs.split("&"),function(){var e=this.split("=");var v=decodeURIComponent(e[1]||"");var k=decodeURIComponent(e[0]);switch(v){case"1":case"true":v=true;break;case"0":case"false":v=false;break}params[k]=v})}return params}queryString(top.window.document.location.href,AppC.params);AppC.docRoot=docRoot;var absRe=/file:|http(s)?:/;var jsLocation=$("script[@src~=appcelerator]").get(0).src;var baseLocation=$("base[@href]").attr("href");if(baseLocation){AppC.docRoot=baseLocation}if(!absRe.test(jsLocation)){jsLocation=AppC.docRoot+(jsLocation.charAt(0)=="/"?jsLocation.substring(1):jsLocation)}queryString(jsLocation,AppC.config);if(!baseLocation){var hostIdx=jsLocation.indexOf(":/");if(hostIdx>0){var jsHostPath=jsLocation.substring(hostIdx+3,jsLocation.indexOf("/",hostIdx+4));var docIdx=AppC.docRoot.indexOf(":/");if(docIdx>0){var docHostPath=AppC.docRoot.substring(docIdx+3,AppC.docRoot.indexOf("/",docIdx+4));if(docHostPath==jsHostPath){AppC.docRoot=URI.absolutizeURI(jsLocation.substring(0,jsLocation.lastIndexOf("/"))+"/../",AppC.docRoot)}}}else{if(jsLocation.charAt(0)=="/"||jsLocation.charAt(0)=="."){var idx=jsLocation.lastIndexOf("/");if(idx!=-1){AppC.docRoot=URI.absolutizeURI(jsLocation.substring(0,idx+1)+"../",AppC.docRoot)}}}}AppC.compRoot=AppC.docRoot+"components/";AppC.pluginRoot=AppC.compRoot+"plugins/";var appid=0;App.ensureId=function(el){var rootEl=el.nodeType?el:$(el).get(0);var id=rootEl.id;if(!id){rootEl.id=rootEl.nodeName=="BODY"?"app_body":"app_"+(appid++)}return el};$.fn.compile=function(){if(arguments.length==2&&typeof (arguments[0])=="object"){var state=arguments[1];$.each(arguments[0],function(){$(this).compile(state)})}else{if(arguments.length==1&&typeof (arguments[0].count)=="number"){var state=arguments[0];var node=$(this).get(0);var el=App.ensureId(node);var e=$(el);App.incState(state);var myid=e.attr("id");var compiled=App.runProcessors(el,state);$.debug(" + compiled #"+myid+" ("+getTagName(node)+") => "+compiled);if(compiled){App.checkState(state,el)}}}return this};$.fn.compileChildren=function(state,self){var node=$(this).get(0);App.ensureId(node);var set=getTargetCompileSet(node,self);this.compile(set,state);return this};var state=function(el){this.count=1;this.el=el;this.completed=[]};App.createState=function(el){return new state(el)};App.incState=function(state){if(state){var count=++state.count;return count}};var bodyCompiled=false;App.checkState=function(state,el){if(state){if(el){state.completed.push($(el).get(0))}var count=--state.count;if(count==0){$.each($.unique(state.completed),function(){if(this!=document.body){$(this).trigger("compiled")}});if(!bodyCompiled){bodyCompiled=true;$(document.body).trigger("compiled")}}}};function getTargetCompileSet(node,self){var expr=null,filter=null;if(node!=null){node=typeof (node.nodeType)=="undefined"?node.get(0):node;var parent=node.nodeName=="BODY"?"body":"#"+node.id;expr=(self?(parent+","):"")+parent+" "+App.selectors.join(", "+parent+" ")}else{expr=App.selectors.join(",");filter=function(){var exclude=App.delegateCompilers.join(",");return !$(this).parents(exclude).length}}if(filter){return $.unique($(expr).filter(filter))}return $.unique($(expr))}var beforeCompilers=[];AppC.beforeCompile=function(f){if(!beforeCompilers){f()}else{beforeCompilers.push(f)}return AppC};AppC.compileDocument=function(){var compileStarted=new Date;var body=$(document.body);if(beforeCompilers){$.each(beforeCompilers,function(){this(body)});beforeCompilers=null}body.bind("compiled",function(){body.pub("l:app.compiled",{event:{id:document.body.id||"body"}});$(document).trigger("compiled");compileFinished=new Date;loadTime=compileFinished-started;compileTime=compileFinished-compileStarted;$.info(AppC.Copyright);$.info(AppC.LicenseMessage);$.info("loaded in "+(loadTime)+" ms, compiler took ~"+(compileTime)+" ms");$.info("Appcelerator is ready!")});var s=new state(body);$(document).compile(getTargetCompileSet(),s);App.checkState(s)};if(!AppC.params.delayCompile){$(document).ready(AppC.compileDocument)}var debug=AppC.params.debug&&AppC.params.debug=="1"||AppC.params.debug==true;var hasConsole=typeof (console)!="undefined";var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";$.extend({domText:function(dom){var str="";for(var c=0;c<dom.childNodes.length;c++){str+=dom.childNodes[c].nodeValue||""}return $.trim(str)},gsub:function(source,pattern,replacement){if(typeof (replacement)=="string"){var r=String(replacement);replacement=function(){return r}}var result="",match;while(source.length>0){if(match=source.match(pattern)){result+=source.slice(0,match.index);result+=this.string(replacement(match));source=source.slice(match.index+match[0].length)}else{result+=source,source=""}}return result},camel:function(value){var parts=value.split("-"),len=parts.length;if(len==1){return parts[0]}var camelized=value.charAt(0)=="-"?parts[0].charAt(0).toUpperCase()+parts[0].substring(1):parts[0];for(var i=1;i<len;i++){camelized+=parts[i].charAt(0).toUpperCase()+parts[i].substring(1)}return camelized},string:function(value){return value==null?"":String(value)},proper:function(value){return value.charAt(0).toUpperCase()+value.substring(1)},smartSplit:function(value,splitter){if(typeof (value)!="string"){$.error("Invalid parameter passed to smartSplit: "+typeof (value)+", value: "+value)}value=this.trim(value);var tokens=value.split(splitter);if(tokens.length==1){return tokens}var array=[];var current=null;for(var c=0;c<tokens.length;c++){var line=tokens[c];if(!current&&line.charAt(0)=="("){current=line+" or ";continue}else{if(current&&current.charAt(0)=="("){if(line.indexOf(") ")!=-1){array.push(current+line);current=null}else{current+=line+" or "}continue}}if(!current&&line.indexOf("[")>=0&&line.indexOf("]")==-1){if(current){current+=splitter+line}else{current=line}}else{if(current&&line.indexOf("]")==-1){current+=splitter+line}else{if(current){array.push(current+splitter+line);current=null}else{array.push(line)}}}}return array},escapeXML:function(value){if(!value){return null}return value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},unescapeXML:function(value){if(!value){return null}return value.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&amp;/g,"&").replace(/&quot;/g,'"')},emptyFunction:function(){},toFunction:function(str,dontPreProcess){var str=$.trim(str);if(str.length==0){return this.emptyFunction}if(!dontPreProcess){if(str.match(/^function\(/)){str="return "+this.unescapeXML(str)+"()"}else{if(!str.match(/return/)){str="return "+this.unescapeXML(str)}else{if(str.match(/^return function/)){str=this.unescapeXML(str)+" ();"}}}}var code="var f = function(){ var args = $.makeArray(arguments); "+str+"}; f;";var func=eval(code);if(this.isFunction(func)){return func}throw Error("code was not a function: "+this)},getNestedProperty:function(obj,prop,def){if(obj!=null&&prop!=null){var props=prop.split(".");if(props.length!=-1){var cur=obj;this.each(props,function(){var p=this;if(null!=cur[p]){cur=cur[p]}else{cur=null;return false}});return cur==null?def:cur}else{return obj[prop]==null?def:obj[prop]}}return def},startsWith:function(a,b){return a.indexOf(b)===0},error:function(){var log=$.makeArray(arguments).join(" ");if(hasConsole){if($.isFunction(console.error)){console.error(log)}else{if($.isFunction(console.log)){console.log(log)}}}},info:function(){var log=$.makeArray(arguments).join(" ");if(hasConsole){if($.isFunction(console.info)){console.info(log)}else{if($.isFunction(console.log)){console.log(log)}}}},debug:function(){if(debug){var log=$.makeArray(arguments).join(" ");if(hasConsole){if($.isFunction(console.debug)){console.debug(log)}else{if($.isFunction(console.log)){console.log(log)}}}}},encode64:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;do{chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else{if(isNaN(chr3)){enc4=64}}output=output+keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4)}while(i<input.length);return output},decode64:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{enc1=keyStr.indexOf(input.charAt(i++));enc2=keyStr.indexOf(input.charAt(i++));enc3=keyStr.indexOf(input.charAt(i++));enc4=keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2)}if(enc4!=64){output=output+String.fromCharCode(chr3)}}while(i<input.length);return output},toQueryString:function(obj){var qs=[];for(var k in obj){var v=obj[k];var t=typeof (v);switch(t){case"number":case"string":case"boolean":qs.push(encodeURIComponent(k)+"="+encodeURIComponent(String(v)));break;case"object":qs.push(encodeURIComponent(k)+"="+encodeURIComponent($.toJSON(v)));break}}return qs.join("&")},loadCSS:function(url){var head=document.getElementsByTagName("head")[0];var link=document.createElement("link");link.rel="stylesheet";link.type="text/css";link.href=url;head.appendChild(link)}});$.Class={create:function(){var parent=null,properties=$.makeArray(arguments);if($.isFunction(properties[0])){parent=properties.shift()}function klass(){this.initialize.apply(this,arguments)}$.Class.extend(klass,$.Class.Methods);klass.superclass=parent;klass.subclasses=[];if(parent){var subclass=function(){};subclass.prototype=parent.prototype;klass.prototype=new subclass;parent.subclasses.push(klass)}for(var i=0;i<properties.length;i++){klass.addMethods(properties[i])}if(!klass.prototype.initialize){klass.prototype.initialize=$.emptyFunction}klass.prototype.constructor=klass;return klass}};$.Class.Methods={addMethods:function(source){var ancestor=this.superclass&&this.superclass.prototype;var properties=[];for(var key in source){properties.push(key)}for(var i=0,length=properties.length;i<length;i++){var property=properties[i],value=source[property];this.prototype[property]=value}return this}};$.Class.extend=function(destination,source){for(var property in source){destination[property]=source[property]}return destination};AppC.create=$.Class.create;AppC.extend=$.Class.extend;$.fn.delay=function(fn,delay){var scope=this;var f=typeof (fn)=="number"?delay:fn;var n=typeof (fn)=="function"?delay:fn;setTimeout(function(){f.call(scope)},(n||0.1)*1000);return this};$.fn.defer=function(fn,delay){$(this).delay(fn,0.001);return this};AppC.Types={};AppC.Types.enumeration=function(){var pattern="^("+$.makeArray(arguments).join(")|(")+")$";return{name:"Enumeration",values:$.makeArray(arguments),regex:RegExp(pattern)}};AppC.Types.openEnumeration=function(){var pattern="^("+$.makeArray(arguments).join(")|(")+")|(.*)$";return{name:"Enumeration",values:$.makeArray(arguments),regex:RegExp(pattern)}};AppC.Types.pattern=function(regex,name){name=name||"pattern";return{name:name,regex:regex}};AppC.Types.bool=AppC.Types.enumeration("true","false");AppC.Types.bool.name="Boolean";AppC.Types.number=AppC.Types.pattern(/^-?[0-9]+(\.[0-9]+)$/,"Number");AppC.Types.naturalNumber=AppC.Types.pattern(/[0-9]+/,"Natural Number");AppC.Types.cssDimension=AppC.Types.pattern(/^-?[0-9]+(\.[0-9]+)(%|(em)|(en)|(px)|(pc)|(pt))?$/,"CSS Dimension");AppC.Types.identifier=AppC.Types.pattern(/^[a-zA-Z_][a-zA-Z0-9_.]*$/,"Identifier");AppC.Types.messageSend=AppC.Types.pattern(/^((l:)|(r:)|(local:)|(remote:))[a-zA-Z0-9_.]+/,"AppC Message Send");AppC.Types.messageReceive=AppC.Types.pattern(/^((l:)|(r:)|(local:)|(remote:))((~.+)|([a-zA-Z0-9_.]+))/,"AppC Message Reception");AppC.Types.onExpr={name:"On Expression"};AppC.Types.fieldset={name:"Fieldset"};AppC.Types.json={name:"JSON Object"};AppC.Types.javascriptExpr={name:"Javascript Expression"};AppC.Types.pathOrUrl={name:"Path or url to resource"};AppC.Types.cssClass={name:"CSS Class name"};AppC.Types.color={name:"Color value"};AppC.Types.time={name:"Time value"};AppC.Types.elementId={name:"Element Id"};AppC.Types.commaSeparated={name:"Comma Separated Values"};AppC.Types.languageId={name:"Localization String Id"};AppC.Types.string={name:"Javascript String"};AppC.Types.object={name:"Javascript Object"};AppC.Types.condition={name:"Component Condition"};AppC.Types.action={name:"Component Action"};AppC.Types.isInstance=function(value,type){if(type.regex){return type.regex.test(value)}switch(type){case AppC.Types.onExpr:try{var thens=App.parseExpression(value);return thens&&thens.length>0}catch(e){return false}case AppC.Types.time:return value&&!isNaN(App.timeFormat(value));case AppC.Types.fieldset:return true;default:return true}};AppC.Types.getTypeId=function(type){throw new Error("this method is no longer supported")};App.selectors=[];App.delegateCompilers=[];var actions={};function addProcessor(tag,attr,handler,delegate,priority){var wildcard=tag=="*";tag=wildcard?tag.toLowerCase():tag;var found=actions[tag];if(!found){found=[];actions[tag]=found}var isExpr=attr.indexOf("=")>0;found[priority?"unshift":"push"]({tag:tag,wildcard:wildcard,attr:attr,expr:isExpr,fn:handler,delegate:delegate});var expr=tag+"["+(!isExpr?"@":"")+attr+"]";App.selectors[priority?"unshift":"push"](expr);if(delegate){App.delegateCompilers[priority?"unshift":"push"](expr)}}function getTagName(el){var element=$(el).get(0);if(AppC.UA.IE){if(element.scopeName&&element.tagUrn){return(element.scopeName+":"+element.nodeName).toLowerCase()}}return element.nodeName.toLowerCase()}function iterateProcessors(f,el,tag,state){if(f){var e=$(el);var delegateCompile=false;$.each(f,function(){if(this.wildcard||tag==this.tag){if(!this.expr){var v=e.attr(this.attr);if(v){var r=this.fn.apply(e,[v,state,tag]);if(typeof (r)=="undefined"){r=true}if(r&&this.delegate){delegateCompile=true}}}else{var r=this.fn.apply(e,[tag,state]);if(typeof (r)=="undefined"){r=true}if(r&&this.delegate){delegateCompile=true}}}if(delegateCompile){return false}});return delegateCompile}return false}function getTarget(params,t){if(!params){return t}if(params.target){return $(params.target)}return(params.id)?$("#"+params.id):t}function regCSSAction(name,key,value){App.regAction(evtRegex(name),function(params){if(typeof (key)=="function"){key.call(getTarget(params,this),params)}else{return getTarget(params,this).css(key,value||name)}})}App.runProcessors=function(el,state){var tag=getTagName(el);var r1=iterateProcessors(actions[tag],el,tag,state);var r2=iterateProcessors(actions["*"],el,tag,state);return !(r1||r2)};App.reg=function(name,el,handler,delegateCompile,priority){if(typeof (el)=="string"){el=$.makeArray(el)}$.each(el,function(){addProcessor(this,name,handler,delegateCompile,priority)})};var regp={conds:{},actions:{},ractions:[]};var dyn={conds:{},actions:{}};App.dynloadAction=function(name,fn){App.regAction(name,fn);$.each(dyn.actions[name],function(){App.invokeAction(this.scope,name,this.params)});try{delete dyn.actions[name]}catch(E){dyn.actions[name]=null}};var actionRE=/\^([\w]+)\(/;var actionUnparsers={};App.parseParams=function(name){var f=actionUnparsers[name];return typeof (f)=="undefined"};App.regAction=function(name,fn,dontparse){dontparse=typeof (dontparse)=="undefined"?false:(dontparse===true);$.debug("adding action "+name+", dontparse = "+dontparse);var m=actionRE.exec(String(name));if(m&&m.length>1||typeof (name)=="string"){var fnName=m.length>1?m[1]:name;if(dontparse){actionUnparsers[fnName]=1}var f=$.fn[fnName];if(typeof (f)!="function"){}if(f){var mapFnName="_"+fnName;$.fn[mapFnName]=f;$.fn[fnName]=function(){if(!f){return }var r=f.apply(this,arguments);this.trigger(fnName);return r||this}}}regp.ractions.push({re:name,fn:fn,dontparse:dontparse})};App.makeCustomAction=function(el,value){var p=App.extractParameters(value);var meta={action:p.name,actionParams:p.params,delay:0,ifCond:null};actions[meta.action]=meta;return meta};App.invokeAction=function(name,data,params){$.debug("invokeAction called with "+name);var scope=this;var found=false;$.each(regp.ractions,function(){if(this.re.test(name)){found=true;var newparams=params||{};if(data&&!this.dontparse){for(var x=0;x<data.length;x++){var entry=data[x];var key=entry.key,value=entry.value;if(entry.keyExpression){key=App.getEvaluatedValue(entry.key,null,params,entry.keyExpression)}else{if(entry.valueExpression){value=App.getEvaluatedValue(entry.value,null,params,entry.valueExpression)}else{if(entry.empty){value=App.getEvaluatedValue(entry.key,null,params)}else{key=App.getEvaluatedValue(entry.key);value=App.getEvaluatedValue(entry.value,null,params)}}}newparams[key]=value}}else{if(data&&this.donparse){newparams=params}}$.debug("invoking action: "+name+" with: "+$.toJSON(newparams)+", scope="+$(scope).attr("id"));this.fn.apply(scope,[newparams,name,data]);return false}});if(!found){var fn=typeof (name)=="function"?name:$(this)[name];if(fn){var newparams=params||{};if(data){for(var x=0;x<data.length;x++){var entry=data[x];var key=entry.key,value=entry.value;if(entry.keyExpression){key=App.getEvaluatedValue(entry.key,null,params,entry.keyExpression)}else{if(entry.valueExpression){value=App.getEvaluatedValue(entry.value,null,params,entry.valueExpression)}else{if(entry.empty){value=App.getEvaluatedValue(entry.key,null,params)}else{key=App.getEvaluatedValue(entry.key);value=App.getEvaluatedValue(entry.value,null,params)}}}newparams[key]=value}}$.debug("invoking action: "+name+" with: "+$.toJSON(newparams)+", scope="+$(scope).attr("id"));fn.apply(scope,[newparams,name,params])}else{$.error("couldn't find an action named: "+name+" for target: "+$(this).attr("id"))}}};App.triggerAction=function(scope,params,meta){var data=meta.actionParams;var action=meta.action;if(meta.ifCond){var r=eval(meta.ifCond);if(r){if(typeof (r)=="boolean"){r=(r===true)}}if(!r){action=meta.elseAction;data=meta.elseActionParams}}if(action){if(meta.delay>0){$(scope).delay(function(){App.invokeAction.apply(scope,[action,data,params])},meta.delay/1000)}else{App.invokeAction.apply(scope,[action,data,params])}}};App.dynregAction=function(actions){$.each($.makeArray(actions),function(){var name=$.string(this);var path=AppC.pluginRoot+"/"+name+"_action.js";var found=regp.actions[path];if(found){return App.regAction(name,found)}App.regAction(evtRegex(name),function(params){var c=dyn.actions[name];var scope=getTarget(params,this);if(c){return c.push({scope:scope,params:params})}dyn.actions[name]=[{scope:scope,params:params}];$.debug("remote loading action = "+path);$.getScript(path)})})};function convertParams(params){if(arguments.length==2&&typeof (params)=="string"){var key=arguments[0];var value=arguments[1];params={key:value}}return params}var parameterSeparatorRE=/[\$=:><!]+/;var parameterRE=/(.*?)\[(.*)?\]/i;var expressionRE=/^expr\((.*?)\)$/;var numberRe=/^[-+]{0,1}[0-9]+$/;var floatRe=/^[0-9]*[\.][0-9]*[f]{0,1}$/;var booleanRe=/^(true|false)$/;var quotedRe=/^['"]{1}|['"]{1}$/;var jsonRe=/^\{(.*)?\}$/;var STATE_LOOKING_FOR_VARIABLE_BEGIN=0;var STATE_LOOKING_FOR_VARIABLE_END=1;var STATE_LOOKING_FOR_VARIABLE_VALUE_MARKER=2;var STATE_LOOKING_FOR_VALUE_BEGIN=3;var STATE_LOOKING_FOR_VALUE_END=4;var STATE_LOOKING_FOR_VALUE_AS_JSON_END=5;function dequote(value){if(value&&typeof value=="string"){if(value.charAt(0)=="'"||value.charAt(0)=='"'){value=value.substring(1)}if(value.charAt(value.length-1)=="'"||value.charAt(value.length-1)=='"'){value=value.substring(0,value.length-1)}}return value}function convertInt(value){if(value.charAt(0)=="0"){if(value.length==1){return 0}return convertInt(value.substring(1))}return parseInt(value)}function decodeParameterValue(token,wasquoted){var value=null;if(token!=null&&token.length>0&&!wasquoted){var match=jsonRe.exec(token);if(match){value=$.evalJSON(match[0])}if(!value){var quoted=quotedRe.test(token);if(quoted){value=dequote(token)}else{if(floatRe.test(token)){value=parseFloat(token)}else{if(numberRe.test(token)){value=convertInt(token)}else{if(booleanRe.test(token)){value=(token=="true")}else{value=token}}}}}}if(token=="null"||value=="null"){return null}return value==null?token:value}App.getTagname=function(element){if(!element){throw"element cannot be null"}if(element.jquery){element=$(element).get(0)}if(element.nodeType!=1){throw"node: "+element.nodeName+" is not an element, was nodeType: "+element.nodeType+", type="+(typeof element)}if(element._tagName){return element._tagName}if($.browser.msie){if(element.scopeName&&element.tagUrn){return element.scopeName+":"+element.nodeName.toLowerCase()}}return String(element.nodeName.toLowerCase())};function formatValue(value,quote){quote=(quote==null)?true:quote;if(value!=null){var type=typeof (value);if(type=="boolean"||type=="array"||type=="object"){return value}if(value=="true"||value=="false"){return value=="true"}if(value.charAt(0)=="'"&&quote){return value}if(value.charAt(0)=='"'){value=value.substring(1,value.length-1)}if(quote){return"'"+value+"'"}return value}return""}function getInputFieldValue(elem,dequote,local){elem=$(elem);var tagname=App.getTagname(elem);if(tagname!="input"&&tagname!="textarea"&&tagname!="select"){return null}local=local==null?true:local;dequote=(dequote==null)?false:dequote;var type=elem.attr("type")||"text";var v=elem.val();switch(type){case"checkbox":return(v=="on"||v=="checked")}return formatValue(v,!dequote)}function getElementValue(element,dequote,local){var el=typeof (element)=="string"?$("#"+element):$(element);dequote=(dequote==null)?true:dequote;var elem=el.get(0);if(el.is(":input")){return el.val()}else{if(el.is("form")){var obj={};$.each(el.find(":input").filter(function(){return !this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))}).map(function(i,elem){var val=$(this).val();return val==null?null:val.constructor==Array?$.map(val,function(val,i){return{name:elem.name||elem.id,value:val}}):{name:elem.name||elem.id,value:val}}).get(),function(){obj[this.name]=this.value});return obj}else{if(el.is("img,iframe")){return elem.src}}}if(elem.value!=undefined){return elem.value}return elem.html()}App.getEvaluatedValue=function(v,data,scope,isExpression){if(v&&typeof (v)=="string"){if(!isExpression&&v.charAt(0)=="$"){var varName=v.substring(1);var elem=$("#"+varName);if(elem){return getElementValue(elem,true)}}else{if(!isExpression&&!isNaN(parseFloat(v))){return v}else{var match=isExpression||expressionRE.exec(v);if(match){var expr=isExpression?v:match[1];var func=$.toFunction(expr);var s=scope?scope:{};if(data){for(var k in data){if(typeof (k)=="string"){s[k]=data[k]}}}return func.call(s)}if(scope){var result=$.getNestedProperty(scope,v,null);if(result){return result}}if(data){return $.getNestedProperty(data,v,v)}}}}return v};App.extractParameters=function(value,scope){var idx=value.indexOf("[");if(idx!=-1){var endidx=value.lastIndexOf("]");var p=value.substring(idx+1,endidx);var action=value.substring(0,idx);var canParse=App.parseParams(action);var params=null;if(canParse){params=App.getParameters(p,false);if(params&&scope){var newparams={};for(var x=0;x<params.length;x++){var entry=params[x];var key=entry.key,value=entry.value;if(entry.keyExpression){key=App.getEvaluatedValue(entry.key,null,scope,entry.keyExpression)}else{if(entry.valueExpression){value=App.getEvaluatedValue(entry.value,null,scope,entry.valueExpression)}else{if(entry.empty){value=App.getEvaluatedValue(entry.key,null,scope)}else{key=App.getEvaluatedValue(entry.key);value=App.getEvaluatedValue(entry.value,null,scope)}}}newparams[key]=value}params=newparams}}return{name:action,params:params||p}}return{name:value,params:null}};App.getParameters=function(str,asjson){if(str==null||str.length==0){return asjson?{}:[]}var exprRE=/expr\((.*?)\)/;var containsExpr=exprRE.test(str);if(!parameterSeparatorRE.test(str)&&!containsExpr){if(asjson){var valueless_key={};valueless_key[str]="";return valueless_key}else{return[{key:str,value:"",empty:true}]}}var state=0;var currentstr="";var key=null;var data=asjson?{}:[];var quotedStart=false,tickStart=false;var operator=null;var expressions=containsExpr?{}:null;if(containsExpr){var expressionExtractor=function(e){var start=e.indexOf("expr(");if(start<0){return null}var p=start+5;var end=e.length-1;var value="";while(true){var idx=e.indexOf(")",p);if(idx<0){break}value+=e.substring(p,idx);if(idx==e.length-1){end=idx+1;break}var b=false;var x=idx+1;for(;x<e.length;x++){switch(e.charAt(x)){case",":end=x;b=true;break;case" ":break;default:p=idx+1;break}}if(x==e.length-1){end=x;break}if(b){break}value+=")"}var fullexpr=e.substring(start,end);return[fullexpr,value]};var ec=0;while(true){var m=expressionExtractor(str);if(!m){break}var k="__E__"+(ec++);expressions[k]=m[1];str=str.replace(m[0],k)}}function transformValue(k,v,tick){if(k&&$.startsWith(k,"__E__")){if(!asjson){return{key:expressions[k],value:v,keyExpression:true,valueExpression:false}}else{return eval(expressions[k])}}if(v&&$.startsWith(v,"__E__")){if(!asjson){return{key:k,value:expressions[v],valueExpression:true,keyExpression:false}}else{return eval(expressions[v])}}var s=decodeParameterValue(v,tick);if(!asjson){return{key:k,value:s}}return s}for(var c=0,len=str.length;c<len;c++){var ch=str.charAt(c);var append=true;switch(ch){case'"':case"'":switch(state){case STATE_LOOKING_FOR_VARIABLE_BEGIN:quoted=true;append=false;state=STATE_LOOKING_FOR_VARIABLE_END;quotedStart=ch=='"';tickStart=ch=="'";break;case STATE_LOOKING_FOR_VARIABLE_END:var previous=str.charAt(c-1);if(quotedStart&&ch=="'"||tickStart&&ch=='"'){}else{if(previous!="\\"){state=STATE_LOOKING_FOR_VARIABLE_VALUE_MARKER;append=false;key=$.trim(currentstr);currentstr=""}}break;case STATE_LOOKING_FOR_VALUE_BEGIN:append=false;quotedStart=ch=='"';tickStart=ch=="'";state=STATE_LOOKING_FOR_VALUE_END;break;case STATE_LOOKING_FOR_VALUE_END:var previous=str.charAt(c-1);if(quotedStart&&ch=="'"||tickStart&&ch=='"'){}else{if(previous!="\\"){state=STATE_LOOKING_FOR_VARIABLE_BEGIN;append=false;if(asjson){data[key]=transformValue(key,currentstr,quotedStart||tickStart)}else{data.push(transformValue(key,currentstr,quotedStart||tickStart))}key=null;quotedStart=false,tickStart=false;currentstr=""}}break}break;case">":case"<":case"=":case":":if(state==STATE_LOOKING_FOR_VARIABLE_END){if(ch=="<"||ch==">"){key=$.trim(currentstr);currentstr="";state=STATE_LOOKING_FOR_VARIABLE_VALUE_MARKER}}switch(state){case STATE_LOOKING_FOR_VARIABLE_END:append=false;state=STATE_LOOKING_FOR_VALUE_BEGIN;key=$.trim(currentstr);currentstr="";operator=ch;break;case STATE_LOOKING_FOR_VARIABLE_VALUE_MARKER:append=false;state=STATE_LOOKING_FOR_VALUE_BEGIN;operator=ch;break}break;case",":switch(state){case STATE_LOOKING_FOR_VARIABLE_BEGIN:append=false;state=STATE_LOOKING_FOR_VARIABLE_BEGIN;break;case STATE_LOOKING_FOR_VARIABLE_END:state=STATE_LOOKING_FOR_VARIABLE_BEGIN;append=false;if(asjson){data[currentstr]=null}else{var entry=transformValue(key,currentstr);entry.operator=operator;entry.key=entry.value;entry.empty=true;data.push(entry)}key=null;quotedStart=false,tickStart=false;currentstr="";break;case STATE_LOOKING_FOR_VALUE_END:if(!quotedStart&&!tickStart){state=STATE_LOOKING_FOR_VARIABLE_BEGIN;append=false;if(asjson){data[key]=transformValue(key,currentstr,quotedStart||tickStart)}else{var entry=transformValue(key,currentstr);entry.operator=operator;data.push(entry)}key=null;quotedStart=false,tickStart=false;currentstr=""}break}break;case" ":break;case"\n":case"\t":case"\r":append=false;break;case"{":switch(state){case STATE_LOOKING_FOR_VALUE_BEGIN:state=STATE_LOOKING_FOR_VALUE_AS_JSON_END}break;case"}":if(state==STATE_LOOKING_FOR_VALUE_AS_JSON_END){state=STATE_LOOKING_FOR_VARIABLE_BEGIN;append=false;currentstr+="}";if(asjson){data[key]=transformValue(key,currentstr,quotedStart||tickStart)}else{var entry=transformValue(key,currentstr);entry.operator=operator;data.push(entry)}key=null;quotedStart=false,tickStart=false;currentstr=""}break;default:switch(state){case STATE_LOOKING_FOR_VARIABLE_BEGIN:state=STATE_LOOKING_FOR_VARIABLE_END;break;case STATE_LOOKING_FOR_VALUE_BEGIN:state=STATE_LOOKING_FOR_VALUE_END;break}}if(append){currentstr+=ch}if(c+1==len&&key){currentstr=$.trim(currentstr);if(asjson){data[key]=transformValue(key,currentstr,quotedStart||tickStart)}else{var entry=transformValue(key,currentstr);entry.operator=operator;data.push(entry)}}}if(currentstr&&!key){if(asjson){data[key]=null}else{var entry=transformValue(key,currentstr);entry.empty=true;entry.key=entry.value;entry.operator=operator;data.push(entry)}}return data};function isIDRef(value){if(value){if(typeof (value)=="string"){return value.charAt(0)=="$"}}return false}App.parseConditionCondition=function(actionParams,data){var ok=true;if(actionParams){for(var c=0,len=actionParams.length;c<len;c++){var p=actionParams[c];var negate=false,regex=false;if(p.empty&&p.value){p.key=p.value;p.keyExpression=p.valueExpression;p.value=null}var lhs=p.key,rhs=p.value,operator=p.operator||"";if(p.key&&p.key.charAt(0)=="!"){negate=true;lhs=p.key.substring(1)}else{if(p.key&&p.key.charAt(p.key.length-1)=="!"){negate=true;lhs=p.key.substring(0,p.key.length-1)}}var preLHS=lhs;if(p.keyExpression||isIDRef(lhs)){var out=App.getEvaluatedValue(lhs,data,data,p.keyExpression);if(!p.keyExpression&&isIDRef(lhs)&&lhs==out){lhs=null}else{lhs=out}}else{lhs=App.getEvaluatedValue(lhs,data)}if(lhs==preLHS){lhs=null}if((operator=="<"||operator==">")&&(rhs&&typeof (rhs)=="string"&&rhs.charAt(0)=="=")){operator+="=";rhs=rhs.substring(1)}if(rhs&&typeof (rhs)=="string"&&rhs.charAt(0)=="~"){regex=true;rhs=rhs.substring(1)}if(p.empty){rhs=lhs}else{if(p.keyExpression||isIDRef(rhs)){var out=App.getEvaluatedValue(rhs,data,data,p.valueExpression);if(!p.valueExpression&&isIDRef(rhs)&&rhs==out){rhs=null}else{rhs=out}}else{rhs=App.getEvaluatedValue(rhs,data)}}if(regex){var r=new RegExp(rhs);ok=r.test(lhs)}else{if(!operator&&p.empty&&rhs==null){ok=lhs}else{switch(operator||"="){case"<":ok=parseInt(lhs)<parseInt(rhs);break;case">":ok=parseInt(lhs)>parseInt(rhs);break;case"<=":ok=parseInt(lhs)<=parseInt(rhs);break;case">=":ok=parseInt(lhs)>=parseInt(rhs);break;default:ok=String(lhs)==String(rhs);break}}}if(negate){ok=!ok}if(!ok){break}}}return ok};App.getJsonTemplateVar=function(namespace,var_expr,template_var){var def={};var o=$.getNestedProperty(namespace,var_expr,def);if(o==def){try{with(namespace){o=eval(var_expr)}}catch(e){return template_var}}if(typeof (o)=="object"){o=$.toJSON(o).replace(/"/g,"&quot;")}return o};var templateRE=/#\{(.*?)\}/g;AppC.compileTemplate=function(html,htmlonly,varname,re){html=html||"";varname=varname==null?"f":varname;re=re||templateRE;var fn=function(m,name,format,args){return"', jtv(values,'"+name+"','#{"+name+"}'),'"};var body="var "+varname+" = function(values){ var jtv = App.getJsonTemplateVar; return ['"+html.replace(/(\r\n|\n)/g,"").replace(/\t/g," ").replace(/'/g,"\\'").replace(re,fn)+"'].join('');};"+(htmlonly?"":varname);var result=htmlonly?body:eval(body);return result};App.componentData={};App.getData=function(id,key){var d=App.componentData[id];if(!d){return null}if(!key){return d}return d[key]};App.setData=function(id,data){var d=App.componentData[id];if(!d){App.componentData[id]=data}else{for(var p in data){d[p]=data[p]}}};var conds=[];App.regCond=function(re,fn){conds.push({re:re,fn:fn})};App.processCond=function(el,info){var f=false;$.each(conds,function(){if(this.re.test(info.cond)){f=true;this.fn.call(el,info);return false}});if(!f){$.error("not match for cond = "+info.cond+" for element with id: "+$(el).attr("id"))}};function smartTokenSearch(searchString,value){var validx=-1;if(searchString.indexOf("[")>-1&&searchString.indexOf("]")>-1){var possibleValuePosition=searchString.indexOf(value);if(possibleValuePosition>-1){var in_left_bracket=false;for(var i=possibleValuePosition;i>-1;i--){if(searchString.charAt(i)=="]"){break}if(searchString.charAt(i)=="["){in_left_bracket=true;break}}var in_right_bracket=false;for(var i=possibleValuePosition;i<searchString.length;i++){if(searchString.charAt(i)=="["){break}if(searchString.charAt(i)=="]"){in_right_bracket=true;break}}if(in_left_bracket&&in_right_bracket){validx=-1}else{validx=searchString.indexOf(value)}}else{validx=possibleValuePosition}}else{validx=searchString.indexOf(value)}return validx}var compoundCondRE=/^\((.*)?\) then$/;App.parseExpression=function(value,element){if(!value){return[]}if(typeof (value)!="string"){alert("framework error: value was "+value+" -- unexpected type: "+typeof (value));throw"value: "+value+" is not a string!"}value=$.gsub(value,"\n"," ");value=$.gsub(value,"\r"," ");value=$.gsub(value,"\t"," ");value=$.trim(value);var thens=[];var ors=$.smartSplit(value," or ");for(var c=0,len=ors.length;c<len;c++){var expression=$.trim(ors[c]);var thenidx=expression.indexOf(" then ");if(thenidx<=0){throw"syntax error: expected 'then' for expression: "+expression}var condition=expression.substring(0,thenidx);var testExpr=expression.substring(0,thenidx+5);var condMatch=compoundCondRE.exec(testExpr);if(condMatch){var expressions=condMatch[1];condition=$.smartSplit(expressions," or ")}var elseAction=null;var nextstr=expression.substring(thenidx+6);var elseidx=smartTokenSearch(nextstr,"else");var increment=5;if(elseidx==-1){elseidx=nextstr.indexOf("otherwise");increment=10}var action=null;if(elseidx>0){action=nextstr.substring(0,elseidx-1);elseAction=nextstr.substring(elseidx+increment)}else{action=nextstr}var nextStr=elseAction||action;var ifCond=null;var ifIdx=nextStr.indexOf(" if expr[");if(ifIdx!=-1){var ifStr=nextStr.substring(ifIdx+9);var endP=ifStr.indexOf("]");if(endP==-1){throw"error in if expression, missing end parenthesis at: "+action}ifCond=ifStr.substring(0,endP);if(elseAction){elseAction=nextStr.substring(0,ifIdx)}else{action=nextStr.substring(0,ifIdx)}nextStr=ifStr.substring(endP+2)}var delay=0;var afterIdx=smartTokenSearch(nextstr,"after ");if(afterIdx!=-1){var afterStr=nextstr.substring(afterIdx+6);delay=App.timeFormat(afterStr);if(!ifCond){if(elseAction){elseAction=nextStr.substring(0,afterIdx-1)}else{action=nextStr.substring(0,afterIdx-1)}}}thens.push([null,condition,action,elseAction,delay,ifCond])}return thens};var ONE_SECOND=1000;var ONE_MINUTE=60000;var ONE_HOUR=3600000;var ONE_DAY=86400000;var ONE_WEEK=604800000;var ONE_MONTH=18748800000;var ONE_YEAR=31536000000;App.timeFormat=function(value){if(typeof (value)=="number"){return value}var str="";var time=0;for(var c=0,len=value.length;c<len;c++){var ch=value.charAt(c);switch(ch){case",":case" ":str="";break;case"m":if(c+1<len){var nextch=value.charAt(c+1);if(nextch=="s"){time+=parseInt(str);c++}}else{time+=parseInt(str)*ONE_MINUTE}str="";break;case"s":time+=parseInt(str)*ONE_SECOND;str="";break;case"h":time+=parseInt(str)*ONE_HOUR;str="";break;case"d":time+=parseInt(str)*ONE_DAY;str="";break;case"w":time+=parseInt(str)*ONE_WEEK;str="";break;case"y":time+=parseInt(str)*ONE_YEAR;str="";break;default:str+=ch;break}}if(str.length>0){time+=parseInt(str)}return time};var events=["blur","click","change","dblclick","focus","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","resize","scroll","select","submit"];function evtRegex(name){return new RegExp("^"+name+"(\\[(.*)?\\])?$")}App.regCond(new RegExp("^("+events.join("|")+")[!]?$"),function(meta){var stop=false;var cond=meta.cond;if(cond.charAt(cond.length-1)=="!"){cond=cond.substring(0,cond.length-1);stop=true}var fn=function(e){var scope=$(this);var data=App.getFieldsetData(scope);data.event={id:$(this).attr("id"),x:e.pageX,y:e.pageY};$.debug("sending "+cond+", data = "+$.toJSON(data));App.triggerAction(scope,data,meta);if(stop){e.stopPropagation();return false}};this.bind(cond,fn);this.trash(function(){this.unbind(cond,fn)})});App.regCond(/^compiled$/,function(meta){var fn=function(){var scope=$(this);var data={event:{id:$(this).attr("id")}};App.triggerAction(scope,data,meta)};this.bind("compiled",fn);this.trash(function(){this.unbind("compiled",fn)})});
/*
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
$.cookie=function(name,value,options){if(typeof value!="undefined"){options=options||{};if(value===null){value="";options.expires=-1}var expires="";if(options.expires&&(typeof options.expires=="number"||options.expires.toUTCString)){var date;if(typeof options.expires=="number"){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000))}else{date=options.expires}expires="; expires="+date.toUTCString()}var path=options.path?"; path="+(options.path):"";var domain=options.domain?"; domain="+(options.domain):"";var secure=options.secure?"; secure":"";document.cookie=[name,"=",encodeURIComponent(value),expires,path,domain,secure].join("")}else{var cookieValue=null;if(document.cookie&&document.cookie!=""){var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+"=")){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break}}}return cookieValue}};$.fn.cookie=$.cookie;App.reg("srcexpr","img",function(params){var value=null;for(var p in params){switch(p){case"id":case"event":break;default:value=params[p];break}}getTarget(params,this).srcexpr(value)});
/* some of this code came from Prototype and has been adapted to jQuery
*  Prototype is (c) 2005-2007 Sam Stephenson
*  Prototype is freely distributable under the terms of an MIT-style license.
*  For details, see the Prototype web site: http://www.prototypejs.org/
*--------------------------------------------------------------------------*/
Date.prototype.toJSON=function(){return'"'+this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+'Z"'};String.specialChar={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"};$.times=function(ch,len){var str="";for(var c=0;c<len;c++){str+=ch}return str};Number.prototype.toPaddedString=function(length,radix){var string=this.toString(radix||10);return $.times("0",length-string.length)+string};String.prototype.toJSON=function(){var useDoubleQuotes=true;var escapedString=$.gsub(this,/[\x00-\x1f\\]/,function(match){var character=String.specialChar[match[0]];return character?character:"\\u00"+match[0].charCodeAt().toPaddedString(2,16)});if(useDoubleQuotes){return'"'+escapedString.replace(/"/g,'\\"')+'"'}return"'"+escapedString.replace(/'/g,"\\'")+"'"};Array.prototype.toJSON=function(){var results=[];$.each(this,function(object){var value=$.toJSON(this);if(value!==undefined){results.push(value)}});return"["+results.join(", ")+"]"};Number.prototype.toJSON=function(){return isFinite(this)?this.toString():"null"};Boolean.prototype.toJSON=function(){return String(this)};$.extend({toJSON:function(object){var type=typeof object;switch(type){case"undefined":case"function":case"unknown":return"null"}if(object===null){return"null"}if(typeof (object.jquery)=="string"){return null}if(object.toJSON){return object.toJSON()}if(object.nodeType==1){return }var results=[];for(var property in object){var value=object[property];if(value!==undefined){results.push($.toJSON(property)+": "+$.toJSON(value))}}return"{"+results.join(", ")+"}"},JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,unfilterJSON:function(str,filter){var m=(filter||this.JSONFilter).exec(str);return m?m[1]:str},isJSON:function(s){var str=s.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");return(/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(str)},evalJSON:function(str,sanitize){var json=this.unfilterJSON(str);try{if(!sanitize||$.isJSON(json)){return eval("("+json+")")}}catch(e){}throw new SyntaxError("Badly formed JSON string: "+str)}});App.MD5={hexcase:0,b64pad:"",chrsz:8,hex_md5:function(s){return this.binl2hex(this.core_md5(this.str2binl(s),s.length*this.chrsz))},b64_md5:function(s){return this.binl2b64(this.core_md5(this.str2binl(s),s.length*this.chrsz))},str_md5:function(s){return this.binl2str(this.core_md5(this.str2binl(s),s.length*this.chrsz))},hex_hmac_md5:function(key,data){return this.binl2hex(this.core_hmac_md5(key,data))},b64_hmac_md5:function(key,data){return this.binl2b64(this.core_hmac_md5(key,data))},str_hmac_md5:function(key,data){return this.binl2str(this.core_hmac_md5(key,data))},md5_vm_test:function(){return this.hex_md5("abc")=="900150983cd24fb0d6963f7d28e17f72"},core_md5:function(x,len){x[len>>5]|=128<<((len)%32);x[(((len+64)>>>9)<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var olda=a;var oldb=b;var oldc=c;var oldd=d;a=this.md5_ff(a,b,c,d,x[i+0],7,-680876936);d=this.md5_ff(d,a,b,c,x[i+1],12,-389564586);c=this.md5_ff(c,d,a,b,x[i+2],17,606105819);b=this.md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=this.md5_ff(a,b,c,d,x[i+4],7,-176418897);d=this.md5_ff(d,a,b,c,x[i+5],12,1200080426);c=this.md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=this.md5_ff(b,c,d,a,x[i+7],22,-45705983);a=this.md5_ff(a,b,c,d,x[i+8],7,1770035416);d=this.md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=this.md5_ff(c,d,a,b,x[i+10],17,-42063);b=this.md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=this.md5_ff(a,b,c,d,x[i+12],7,1804603682);d=this.md5_ff(d,a,b,c,x[i+13],12,-40341101);c=this.md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=this.md5_ff(b,c,d,a,x[i+15],22,1236535329);a=this.md5_gg(a,b,c,d,x[i+1],5,-165796510);d=this.md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=this.md5_gg(c,d,a,b,x[i+11],14,643717713);b=this.md5_gg(b,c,d,a,x[i+0],20,-373897302);a=this.md5_gg(a,b,c,d,x[i+5],5,-701558691);d=this.md5_gg(d,a,b,c,x[i+10],9,38016083);c=this.md5_gg(c,d,a,b,x[i+15],14,-660478335);b=this.md5_gg(b,c,d,a,x[i+4],20,-405537848);a=this.md5_gg(a,b,c,d,x[i+9],5,568446438);d=this.md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=this.md5_gg(c,d,a,b,x[i+3],14,-187363961);b=this.md5_gg(b,c,d,a,x[i+8],20,1163531501);a=this.md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=this.md5_gg(d,a,b,c,x[i+2],9,-51403784);c=this.md5_gg(c,d,a,b,x[i+7],14,1735328473);b=this.md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=this.md5_hh(a,b,c,d,x[i+5],4,-378558);d=this.md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=this.md5_hh(c,d,a,b,x[i+11],16,1839030562);b=this.md5_hh(b,c,d,a,x[i+14],23,-35309556);a=this.md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=this.md5_hh(d,a,b,c,x[i+4],11,1272893353);c=this.md5_hh(c,d,a,b,x[i+7],16,-155497632);b=this.md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=this.md5_hh(a,b,c,d,x[i+13],4,681279174);d=this.md5_hh(d,a,b,c,x[i+0],11,-358537222);c=this.md5_hh(c,d,a,b,x[i+3],16,-722521979);b=this.md5_hh(b,c,d,a,x[i+6],23,76029189);a=this.md5_hh(a,b,c,d,x[i+9],4,-640364487);d=this.md5_hh(d,a,b,c,x[i+12],11,-421815835);c=this.md5_hh(c,d,a,b,x[i+15],16,530742520);b=this.md5_hh(b,c,d,a,x[i+2],23,-995338651);a=this.md5_ii(a,b,c,d,x[i+0],6,-198630844);d=this.md5_ii(d,a,b,c,x[i+7],10,1126891415);c=this.md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=this.md5_ii(b,c,d,a,x[i+5],21,-57434055);a=this.md5_ii(a,b,c,d,x[i+12],6,1700485571);d=this.md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=this.md5_ii(c,d,a,b,x[i+10],15,-1051523);b=this.md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=this.md5_ii(a,b,c,d,x[i+8],6,1873313359);d=this.md5_ii(d,a,b,c,x[i+15],10,-30611744);c=this.md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=this.md5_ii(b,c,d,a,x[i+13],21,1309151649);a=this.md5_ii(a,b,c,d,x[i+4],6,-145523070);d=this.md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=this.md5_ii(c,d,a,b,x[i+2],15,718787259);b=this.md5_ii(b,c,d,a,x[i+9],21,-343485551);a=this.safe_add(a,olda);b=this.safe_add(b,oldb);c=this.safe_add(c,oldc);d=this.safe_add(d,oldd)}return Array(a,b,c,d)},md5_cmn:function(q,a,b,x,s,t){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(a,q),this.safe_add(x,t)),s),b)},md5_ff:function(a,b,c,d,x,s,t){return this.md5_cmn((b&c)|((~b)&d),a,b,x,s,t)},md5_gg:function(a,b,c,d,x,s,t){return this.md5_cmn((b&d)|(c&(~d)),a,b,x,s,t)},md5_hh:function(a,b,c,d,x,s,t){return this.md5_cmn(b^c^d,a,b,x,s,t)},md5_ii:function(a,b,c,d,x,s,t){return this.md5_cmn(c^(b|(~d)),a,b,x,s,t)},core_hmac_md5:function(key,data){var bkey=this.str2binl(key);if(bkey.length>16){bkey=this.core_md5(bkey,key.length*this.chrsz)}var ipad=Array(16),opad=Array(16);for(var i=0;i<16;i++){ipad[i]=bkey[i]^909522486;opad[i]=bkey[i]^1549556828}var hash=this.core_md5(ipad.concat(this.str2binl(data)),512+data.length*this.chrsz);return this.core_md5(opad.concat(hash),512+128)},safe_add:function(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&65535)},bit_rol:function(num,cnt){return(num<<cnt)|(num>>>(32-cnt))},str2binl:function(str){var bin=Array();var mask=(1<<this.chrsz)-1;for(var i=0;i<str.length*this.chrsz;i+=this.chrsz){bin[i>>5]|=(str.charCodeAt(i/this.chrsz)&mask)<<(i%32)}return bin},binl2str:function(bin){var str="";var mask=(1<<this.chrsz)-1;for(var i=0;i<bin.length*32;i+=this.chrsz){str+=String.fromCharCode((bin[i>>5]>>>(i%32))&mask)}return str},binl2hex:function(binarray){var hex_tab=this.hexcase?"0123456789ABCDEF":"0123456789abcdef";var str="";for(var i=0;i<binarray.length*4;i++){str+=hex_tab.charAt((binarray[i>>2]>>((i%4)*8+4))&15)+hex_tab.charAt((binarray[i>>2]>>((i%4)*8))&15)}return str},binl2b64:function(binarray){var tab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var str="";for(var i=0;i<binarray.length*4;i+=3){var triplet=(((binarray[i>>2]>>8*(i%4))&255)<<16)|(((binarray[i+1>>2]>>8*((i+1)%4))&255)<<8)|((binarray[i+2>>2]>>8*((i+2)%4))&255);for(var j=0;j<4;j++){if(i*8+j*6>binarray.length*32){str+=this.b64pad}else{str+=tab.charAt((triplet>>6*(3-j))&63)}}}return str}};var loadedPlugins={};var dynamicPlugins={example:null};function installDynPlugin(name,fn){var l=loadedPlugins[name];if(l){return fn()}var path=AppC.pluginRoot+name+".js";$.getScript(path,function(){loadedPlugins[name]=1;fn()})}for(var name in dynamicPlugins){(function(){var found=$.fn[name];if(typeof (found)=="function"){return }$.fn[name]=function(){var arguments=arguments;var scope=this;var depends=dynamicPlugins[name]||[];depends.push(name);var length=depends.length;var count=0;var f=function(){var n=depends[count];if(count++<length){installDynPlugin(n,f)}else{$.fn[name].apply(scope,arguments)}};f();return this}})()}(function(){var cache={};$.scriptlet=function scriptlet(str,data){var fn=!/\W/.test(str)?cache[str]=cache[str]||scriptlet($(str).html()):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+str.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return data?fn(data):fn}})(jQuery);var components={controls:{},themes:{},behaviors:{},layouts:{}};AppC.register=function(type,name,fn){var e=components[type+"s"][name];if(!e){e={pend:[],factory:fn};components[type+"s"][name]=e}e.factory=fn;$.each(e.pend,function(){var instance=createControl(this.el,name,this.opts,this.fn);if(!instance){$.error("framework error - instance not returned from factory for: "+name)}var render=instance.render;var el=this.el;var opts=this.opts;instance.render=function(){if(arguments.length==1){render.apply(instance,[el,arguments[0]])}else{render.apply(instance,arguments)}el.trigger("rendered",instance)};el.data("control",instance);el.trigger("created",[instance,this.opts]);$.each(instance.getAttributes(),function(){switch(this.type){case AppC.Types.condition:var name="on"+$.proper(this.name);App.regCond(new RegExp("^("+this.name+")$"),function(meta){var bindFn=function(args){var scope=$(this);args=args||{};args.id=$(this).attr("id");App.triggerAction(scope,args,meta)};el.bind(name,bindFn);el.trash(function(){el.unbind(name,bindFn)})});break;case AppC.Types.action:break;default:var v=opts[this.name]||this.defaultValue;if(typeof (v)=="undefined"&&!this.optional){el.trigger("onError","required property '"+this.name+"' not found or missing value")}opts[this.name]=v}});if(this.fn){this.fn.call(instance,opts)}instance.render.apply(instance,[this.el,opts])})};function createControl(el,name,opts,fn){var e=components.controls[name];opts=opts||{};if(e){if(!e.factory){e.pend.push({el:el,fn:fn,opts:opts});return }var instance=e.factory.create();return instance}e={pend:[{el:el,fn:fn,opts:opts}],factory:null};components.controls[name]=e;load("control",name,e)}function load(type,name,e){var uri=AppC.docRoot+"components/"+type+"s/"+name+"/"+name+".js";$.getScript(uri)}$.fn.control=function(name,opts,fn){if(arguments.length==0){return this.data("control")}if(typeof (opts)=="function"){fn=opts;opts={}}createControl($(this),name,opts,fn);return this};$.fn.theme=function(name,options){return this};$.fn.behavior=function(name,options){return this};$.fn.layout=function(name,options){return this};App.reg("set","*",function(value,state){var el=$(this);var visibility=el.css("visibility")||"visible";var show=false,initial=true;if(visibility=="visible"){el.css("visibility","hidden");show=true}el.addClass("container");var bindFn=function(){el.compileChildren(state,false);if(show){$(this).css("visibility",visibility);show=false}if(initial){initial=false;App.checkState(state,el)}};el.bind("rendered",bindFn);el.trash(function(){el.unbind("rendered",bindFn)});$.each($.smartSplit(value," and "),function(){var idx=this.indexOf("[");if(idx<0){throw new "invalid set expression. must be in the form: control[type]"}var lastIdx=this.lastIndexOf("]");var ui=this.substring(0,idx);var params=this.substring(idx+1,lastIdx);var comma=params.indexOf(",");var type=null,args={};if(comma<0){type=params}else{type=params.substring(0,comma);args=App.getParameters(params.substring(comma+1),true);for(var p in args){args[p]=App.getEvaluatedValue(args[p])}}$.info("creating component of type="+type+",ui="+ui+",args="+$.toJSON(args));el[ui](type,args)})},true);var ua=navigator.userAgent.toLowerCase();AppC.UA={supported:false,opera:(ua.indexOf("opera")>-1),safari:(ua.indexOf("safari")>-1),safari2:false,safari3:false,IE:!!(window.ActiveXObject),IE6:false,IE7:false,IE8:false,windows:false,mac:false,linux:false,sunOS:false,platform:"unknown",flash:false,flashVersion:0,silverlight:false,sliverlightVersion:0};if(AppC.UA.IE){var arVersion=navigator.appVersion.split("MSIE");var version=parseFloat(arVersion[1]);AppC.UA.IE6=version>=6&&version<7;AppC.UA.IE7=version>=7&&version<8;AppC.UA.IE8=version>=8&&version<9}else{if(AppC.UA.safari){var webKitFields=RegExp("( applewebkit/)([^ ]+)").exec(ua);if(webKitFields[2]>400&&webKitFields[2]<500){AppC.UA.safari2=true}else{if(webKitFields[2]>500&&webKitFields[2]<600){AppC.UA.safari3=true}}}}AppC.UA.gecko=!AppC.UA.safari&&(ua.indexOf("gecko")>-1);AppC.UA.camino=AppC.UA.gecko&&ua.indexOf("camino")>-1;AppC.UA.firefox=AppC.UA.gecko&&(ua.indexOf("firefox")>-1||AppC.UA.camino||ua.indexOf("minefield")>-1||ua.indexOf("granparadiso")>-1||ua.indexOf("bonecho")>-1);AppC.UA.IPhone=AppC.UA.safari&&ua.indexOf("iphone")>-1;AppC.UA.mozilla=AppC.UA.gecko&&ua.indexOf("mozilla/")>-1;AppC.UA.webkit=AppC.UA.mozilla&&AppC.UA.gecko&&ua.indexOf("applewebkit")>0;AppC.UA.seamonkey=AppC.UA.mozilla&&ua.indexOf("seamonkey")>-1;AppC.UA.prism=AppC.UA.mozilla&&ua.indexOf("prism/")>0;AppC.UA.iceweasel=AppC.UA.mozilla&&ua.indexOf("iceweasel")>0;AppC.UA.epiphany=AppC.UA.mozilla&&ua.indexOf("epiphany")>0;AppC.UA.fluid=(window.fluid!=null);AppC.UA.gears=(window.google&&google.gears)!=null;AppC.UA.chromium=AppC.UA.webkit&&ua.indexOf("chrome/")>0;if(ua.indexOf("windows")!=-1||ua.indexOf("win32")!=-1){AppC.UA.windows=true;AppC.UA.platform="win32"}else{if(ua.indexOf("macintosh")!=-1||ua.indexOf("mac os x")!=-1){AppC.UA.mac=true;AppC.UA.platform="mac"}else{if(ua.indexOf("linux")!=-1){AppC.UA.linux=true;AppC.UA.platform="linux"}else{if(ua.indexOf("sunos")!=-1){AppC.UA.sunOS=true;AppC.UA.platform="sun"}}}}AppC.UA.silverlight=false;AppC.UA.silverlightVersion=0;function checkForSilverlight(){var container=null;try{var control=null;if(window.ActiveXObject){control=new ActiveXObject("AgControl.AgControl")}else{if(navigator.plugins["Silverlight Plug-In"]){container=document.createElement("div");document.body.appendChild(container);container.innerHTML='<embed type="application/x-silverlight" src="data:," />';control=container.childNodes[0]}}if(control){if(control.isVersionSupported("2.0")){AppC.UA.silverlightVersion=2}else{if(control.isVersionSupported("1.0")){AppC.UA.silverlightVersion=1}}AppC.UA.silverlight=AppC.UA.silverlightVersion>0}}catch(e){}if(container){try{document.body.removeChild(container)}catch(E){}}}if(AppC.UA.IE){try{var flash=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");var ver=flash.GetVariable("$version");var idx=ver.indexOf(" ");var tokens=ver.substring(idx+1).split(",");var version=tokens[0];AppC.UA.flashVersion=parseInt(version);AppC.UA.flash=true}catch(e){}}else{var plugin=navigator.plugins&&navigator.plugins.length;if(plugin){plugin=navigator.plugins["Shockwave Flash"]||navigator.plugins["Shockwave Flash 2.0"];if(plugin){if(plugin.description){var ver=plugin.description;AppC.UA.flashVersion=parseInt(ver.charAt(ver.indexOf(".")-1));AppC.UA.flash=true}else{AppC.UA.flashVersion=7;AppC.UA.flash=true}}}else{plugin=(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0;if(plugin&&plugin.description){AppC.UA.flash=true;AppC.UA.flashVersion=parseInt(plugin.description.substring(plugin.description.indexOf(".")-1))}}}$.each("firefox IE6 IE7 IE8 safari chromium webkit opera camino seamonkey prism fluid iceweasel epiphany".split(" "),function(){if(AppC.UA[this]===true){AppC.UA.supported=true;var name=this.toLowerCase();AppC.beforeCompile(function(body){checkForSilverlight();if(AppC.UA.platform){body.addClass(AppC.platform)}body.addClass(name);for(var p in AppC.UA){var v=AppC.UA[p];if(typeof (v)=="boolean"&&v===true&&p!="supported"&&p!="flash"&&p!="silverlight"){body.addClass(p.toLowerCase())}}if(AppC.UA.IPhone){body.addClass("width_narrow");body.addClass("height_short")}else{function calcDim(){var cn=body.attr("class");if(cn){$.each(cn.split(" "),function(){if(/^(height|width)_/.test(this)){body.removeClass(this)}})}var width=$(document).width();var height=$(document).height();if(height<480){body.addClass("height_tiny")}else{if(height>=480&&height<=768){body.addClass("height_small")}else{if(height>768&&height<1100){body.addClass("height_medium")}else{if(height>=1100){body.addClass("height_large")}}}}if(width<=640){body.addClass("width_tiny")}else{if(width>640&&width<=1024){body.addClass("width_small")}else{if(width>1024&&width<=1280){body.addClass("width_medium")}else{if(width>1280){body.addClass("width_large")}}}}}$(window).bind("resize",calcDim);calcDim()}});return false}});App.UUID={dateSeed:(started||new Date).getTime(),convert:["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],base16:function(number){var output=null;if(number<16){output=this.convert[number]}else{var MSD=""+Math.floor(number/16);var LSD=number-MSD*16;if(MSD>=16){output=this.base16(MSD)+this.convert[LSD]}else{output=this.convert[MSD]+this.convert[LSD]}}return output},newID:function(){var dg=new Date(1970,9,22,0,0,0,0);var t=this.base16(this.dateSeed-dg.getTime());var a=this.base16(Math.floor(999999999999*Math.random()));var _b=App.MD5.hex_md5(window.location.pathname);var b=(_b.length>10?_b.substring(0,10):_b).gsub(/[^a-zA-Z0-9]/,"0");var c=this.base16(Math.round(this.dateSeed*Math.random()));return t+"-"+a+"-"+b+"-"+c}};var currentAddFn=$.fn.add;$.fn.add=function(prop,value){if(arguments.length==2&&typeof (prop)=="string"){switch(prop){case"class":case"className":this.addClass(value);break;default:this.attr(prop,value)}return this}else{return currentAddFn.apply(this,arguments)}};$.fn.remove=function(prop){$.each(this,function(){switch(prop){case"class":case"className":$(this).removeClass(prop);break;default:$(this).removeAttr(prop)}});return this};$.fn.after=function(t,f){var time=App.timeFormat(t);var scope=this;setTimeout(function(){f.call(scope)},time);return this};(function(jQuery){jQuery.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(i,attr){jQuery.fx.step[attr]=function(fx){if(fx.state==0){fx.start=getColor(fx.elem,attr);fx.end=getRGB(fx.end)}fx.elem.style[attr]="rgb("+[Math.max(Math.min(parseInt((fx.pos*(fx.end[0]-fx.start[0]))+fx.start[0]),255),0),Math.max(Math.min(parseInt((fx.pos*(fx.end[1]-fx.start[1]))+fx.start[1]),255),0),Math.max(Math.min(parseInt((fx.pos*(fx.end[2]-fx.start[2]))+fx.start[2]),255),0)].join(",")+")"}});function getRGB(color){var result;if(color&&color.constructor==Array&&color.length==3){return color}if(color=="transparent"){return[255,255,255]}if(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color)){return[parseInt(result[1]),parseInt(result[2]),parseInt(result[3])]}if(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color)){return[parseFloat(result[1])*2.55,parseFloat(result[2])*2.55,parseFloat(result[3])*2.55]}if(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color)){return[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)]}if(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color)){return[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)]}return colors[jQuery.trim(color).toLowerCase()]}function getColor(elem,attr){var color;do{color=jQuery.curCSS(elem,attr);if(color!=""&&color!="transparent"||jQuery.nodeName(elem,"body")){break}attr="backgroundColor"}while(elem=elem.parentNode);return getRGB(color)}var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})($);var oldBind=$.fn.bind;$.fn.bind=function(){if(arguments.length>1){return oldBind.apply(this,arguments)}else{var obj=arguments[0];$.each(this,function(idx){var t=$(this).get(idx);$.each($(t).children(),function(){var child=$(this);var name=child.attr("name");var value=name?obj[name]:obj[child.attr("id")];if(value){child.val(value)}})})}return this};$.fn.disable=function(){$.each(this,function(idx){$(this).attr("disabled",true)})};$.fn.enable=function(){$.each(this,function(){$(this).removeAttr("disabled")})};var validators={},decorators={},fieldsets={};var validatorMonitor=null;var validatorMonitors=null;var validatorMonitorRate=250;AppC.setFieldMonitorInterval=function(rate){validatorMonitorRate=rate;if(validatorMonitor){clearInterval(validatorMonitor);validatorMonitor=setInterval(fieldMonitor,validatorMonitorRate)}};AppC.addValidator=function(name,fn){validators[name]=fn};AppC.getValidator=function(name){if(name){return validators[name]}};AppC.validators=function(iter){for(var p in validators){iter.call({name:p,fn:validators[p]})}};AppC.addDecorator=function(name,fn){decorators[name]=fn};App.getDecorator=function(name){if(name){return decorators[name]}};AppC.decorators=function(iter){for(var p in decorators){iter.call({name:p,fn:decorators[p]})}};AppC.addValidator("required",function(el,value){return(typeof (value)!="undefined"&&value)});function installDecorator(el,target){if(!target){var img=AppC.docRoot+"images/exclamation.png";var id=el.attr("id")+"_decorator";var html='<span id="'+id+'" class="decorator"><img src="'+img+'"/></span>';el.after(html);target=$("#"+id);el.data("decoratorTarget",target)}return target}AppC.addDecorator("required",function(el,valid,value,target){target=installDecorator(el,target);if(valid){el.css("background-color","");target.css("visibility","hidden")}else{el.css("background-color","#FFEEEE");target.css("visibility","visible")}});AppC.addDecorator("custom",function(el,valid,value,target){target.css("visibility",valid?"hidden":"visible")});function fieldMonitor(){if(validatorMonitors&&validatorMonitors.length>0){$.each(validatorMonitors,function(){$(this).revalidate(true)})}}function startFieldMonitor(el){if(!validatorMonitors){validatorMonitors=[];validatorMonitor=setInterval(fieldMonitor,validatorMonitorRate)}validatorMonitors.push(el);var fn=function(){stopFieldMonitor(el)};el.data("fieldMonitor",fn);el.bind("blur",fn)}function stopFieldMonitor(el){if(validatorMonitors){var idx=validatorMonitors.indexOf(el);var idx=$.inArray(el,validatorMonitors);if(idx!=-1){validatorMonitors.splice(idx,1)}var fn=el.data("fieldMonitor");if(fn){el.unbind("blur",fn)}el.removeData("fieldMonitor")}}function makeFormEntry(array,name,e,fn){$.each(array,function(idx){var el=$(this);el.data(name,e);if(fn){fn(el)}el.revalidate()});return array}function fieldDecorate(el,valid,value){if(!value){el.addClass("validator_empty").removeClass("validator_value")}else{el.removeClass("validator_empty").addClass("validator_value")}if(valid){el.removeClass("validator_invalid").addClass("validator_valid")}else{el.addClass("validator_invalid").removeClass("validator_valid")}var dec=el.data("decorator");var target=el.data("decoratorTarget");var fn=typeof (dec)=="function"?dec:App.getDecorator(dec);return fn?fn(el,valid,value,target):null}function fieldActivate(el,activator,activators){activator=activator?activator:el.data("activator");if(activator){var valid=true;var array=activators?activators:activator.data("activators");$.each(array,function(){var r=$("#"+this).data("validatorResult");if(r===false){valid=false;return false}});if(valid){activator.removeAttr("disabled")}else{activator.attr("disabled",true)}}}function fieldRevalidate(el,changeOnly,ignoreActivate){var v=el.data("validator");if(v){var result=false;var validator=typeof (v)=="function"?v:AppC.getValidator(v);if(validator){try{var value=getElementValue(el);if(changeOnly&&el.data("validatorData")===value){return }el.data("validatorData",value);result=validator(el,value);result=(typeof (result)=="undefined"?true:result)?true:false;el.data("validatorResult",result);fieldDecorate(el,result,value);if(!ignoreActivate){fieldActivate(el)}}catch(E){$.error("error in validation = "+E+" for element = "+el.attr("id"))}}}else{var activators=el.data("activators");if(activators){fieldActivate(null,el,activators)}}}$.fn.revalidate=function(changeOnly){return $.each(this,function(idx){fieldRevalidate($(this),changeOnly)});return this};$.fn.validator=function(v){makeFormEntry(this,"validator",v,function(el){if(el.is(":text,textarea")){el.bind("focus",function(){startFieldMonitor(el)})}else{if(el.is("select,:radio,:checkbox")){el.bind("click",function(){el.revalidate()})}}});return this};$.fn.decorator=function(d,decId){var dec=decId?(typeof (decId)=="string"?$("#"+decId):$(decId)):null;var fn=dec?function(el){el.data("decoratorTarget",dec)}:null;return makeFormEntry(this,"decorator",d,fn)};$.fn.activators=function(a){var self=this;var array=(typeof (a)=="string"?a.split(/[ ,]/):$.makeArray(a)).map(function(e){return $.trim(e)});this.data("activators",array);$.each(array,function(idx){var el=$("#"+$.trim(this));if(!el){$.error("Error adding activator field with id: "+this+", not found");return }el.data("activator",self)});this.revalidate();return this};$.fn.fieldset=function(fs){var array=(typeof (fs)=="string"?fs.split(/[ ,]/):$.makeArray(fs)).map(function(e){return $.trim(e)});$.each(this,function(idx){var el=$(this);if(!el){$.error("Error adding fieldset field with id: "+$(this).attr("id")+", not found");return }el.data("fieldsets",array);$.each(array,function(){App.addToFieldset(el,$.trim(this))})})};App.addToFieldset=function(el,fs){var elements=fieldsets[fs];if(!elements){elements=[];fieldsets[fs]=elements}elements.push(el)};App.getFieldsetData=function(fs,obj){obj=obj||{};var array=typeof (fs)=="string"?[fs]:fs.data("fieldsets");if(array&&array.length>0){$.each(array,function(){var elements=fieldsets[this];if(elements){$.each(elements,function(){var el=this;if(!el.is(":button")){var value=getElementValue(el);var key=el.is("form")?el.attr("name")||el.attr("fieldset")||el.attr("id"):el.attr("name")||el.attr("id");obj[key]=value}})}})}return obj};App.reg("validator",["input","button","select","textarea"],function(value,state){$(this).validator(value)});App.reg("decorator",["input","button","select","textarea"],function(value,state){$(this).decorator(value,$(this).attr("decoratorId"))});App.reg("activators",["div","input","button"],function(value,state){$(this).activators(value)});App.reg("fieldset",["form","input","button","select","textarea"],function(value,state){$(this).fieldset(value)});var oldVal=$.fn.val;$.fn.val=function(){var inr=this.data("revalidating");var rev=false;if(!inr){rev=true;this.data("revalidating",true)}var r=oldVal.apply(this,arguments);if(rev){this.revalidate();this.removeData("revalidating")}return r};regCSSAction("hidden","visibility");$.fn.highlight=function(bgColor){bgColor=bgColor||"#ffffcc";$.each(this,function(){var curBgColor=$(this).css("backgroundColor");$(this).animate({backgroundColor:bgColor},50).animate({backgroundColor:curBgColor},1000)});return this};App.dynregAction("history");
/*
(c) Copyrights 2007 - 2008

Original idea by by Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/
 
jQuery Plugin by Tzury Bar Yochay 
tzury.by@gmail.com
http://evalinux.wordpress.com
http://facebook.com/profile.php?id=513676303

Project's sites: 
http://code.google.com/p/js-hotkeys/
http://github.com/tzuryby/hotkeys/tree/master

License: same as jQuery license. 

USAGE:
    // simple usage
    $(document).bind('keydown', 'Ctrl+c', function(){ alert('copy anyone?');});
    
    // special options such as disableInIput
    $(document).bind('keydown', {combi:'Ctrl+x', disableInInput: true} , function() {});
    
Note:
    This plugin wraps the following jQuery methods: $.fn.find, $.fn.bind and $.fn.unbind
    
*/
jQuery.fn.__bind__=jQuery.fn.bind;jQuery.fn.__unbind__=jQuery.fn.unbind;jQuery.fn.__find__=jQuery.fn.find;var hotkeys={version:"0.7.8",override:/keydown|keypress|keyup/g,triggersMap:{},specialKeys:{27:"esc",9:"tab",32:"space",13:"return",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},newTrigger:function(type,combi,callback){var result={};result[type]={};result[type][combi]={cb:callback,disableInInput:false};return result}};if(jQuery.browser.mozilla){hotkeys.specialKeys=jQuery.extend(hotkeys.specialKeys,{96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"})}jQuery.fn.find=function(selector){this.query=selector;return jQuery.fn.__find__.apply(this,arguments)};jQuery.fn.unbind=function(type,combi,fn){if(jQuery.isFunction(combi)){fn=combi;combi=null}if(combi&&typeof combi==="string"){var selectorId=((this.prevObject&&this.prevObject.query)||(this[0].id&&this[0].id)||this[0]).toString();var hkTypes=type.split(" ");for(var x=0;x<hkTypes.length;x++){delete hotkeys.triggersMap[selectorId][hkTypes[x]][combi]}}return this.__unbind__(type,fn)};jQuery.fn.bind=function(type,data,fn){var handle=type.match(hotkeys.override);if(jQuery.isFunction(data)||!handle){return this.__bind__(type,data,fn)}else{var result=null,pass2jq=jQuery.trim(type.replace(hotkeys.override,""));if(pass2jq){result=this.__bind__(pass2jq,data,fn)}if(typeof data==="string"){data={combi:data}}if(data.combi){for(var x=0;x<handle.length;x++){var eventType=handle[x];var combi=data.combi.toLowerCase(),trigger=hotkeys.newTrigger(eventType,combi,fn),selectorId=((this.prevObject&&this.prevObject.query)||(this[0].id&&this[0].id)||this[0]).toString();trigger[eventType][combi].disableInInput=data.disableInInput;if(!hotkeys.triggersMap[selectorId]){hotkeys.triggersMap[selectorId]=trigger}else{if(!hotkeys.triggersMap[selectorId][eventType]){hotkeys.triggersMap[selectorId][eventType]=trigger[eventType]}}var mapPoint=hotkeys.triggersMap[selectorId][eventType][combi];if(!mapPoint){hotkeys.triggersMap[selectorId][eventType][combi]=[trigger[eventType][combi]]}else{if(mapPoint.constructor!==Array){hotkeys.triggersMap[selectorId][eventType][combi]=[mapPoint]}else{hotkeys.triggersMap[selectorId][eventType][combi][mapPoint.length]=trigger[eventType][combi]}}this.each(function(){var jqElem=jQuery(this);if(jqElem.attr("hkId")&&jqElem.attr("hkId")!==selectorId){selectorId=jqElem.attr("hkId")+";"+selectorId}jqElem.attr("hkId",selectorId)});result=this.__bind__(handle.join(" "),data,hotkeys.handler)}}return result}};hotkeys.findElement=function(elem){if(!jQuery(elem).attr("hkId")){if(jQuery.browser.opera||jQuery.browser.safari){while(!jQuery(elem).attr("hkId")&&elem.parentNode){elem=elem.parentNode}}}return elem};hotkeys.handler=function(event){var target=hotkeys.findElement(event.currentTarget),jTarget=jQuery(target),ids=jTarget.attr("hkId");if(ids){ids=ids.split(";");var code=event.which,type=event.type,special=hotkeys.specialKeys[code],character=!special&&String.fromCharCode(code).toLowerCase(),shift=event.shiftKey,ctrl=event.ctrlKey,alt=event.altKey||event.originalEvent.altKey,mapPoint=null;for(var x=0;x<ids.length;x++){if(hotkeys.triggersMap[ids[x]][type]){mapPoint=hotkeys.triggersMap[ids[x]][type];break}}if(mapPoint){var trigger;if(!shift&&!ctrl&&!alt){trigger=mapPoint[special]||(character&&mapPoint[character])}else{var modif="";if(alt){modif+="alt+"}if(ctrl){modif+="ctrl+"}if(shift){modif+="shift+"}trigger=mapPoint[modif+special];if(!trigger){if(character){trigger=mapPoint[modif+character]||mapPoint[modif+hotkeys.shiftNums[character]]||(modif==="shift+"&&mapPoint[hotkeys.shiftNums[character]])}}}if(trigger){var result=false;for(var x=0;x<trigger.length;x++){if(trigger[x].disableInInput){var elem=jQuery(event.target);if(jTarget.is("input")||jTarget.is("textarea")||elem.is("input")||elem.is("textarea")){return true}}result=result||trigger[x].cb.apply(this,[event])}return result}}}};window.hotkeys=hotkeys;AppC.currentLocale=window.navigator.language||"en";var bundles={};AppC.locale=function(lang){if(lang==AppC.currentLocale){return }AppC.currentLocale=lang;if(!bundles[lang]){try{var url=AppC.docRoot+"localization/"+lang.toLowerCase()+".properties";$.debug("attempting to fetch "+url);$.ajax({url:url,cache:true,dataType:"text",type:"GET",async:true,success:function(prop){var endRE=/\\$/;var cont=false,key=null,value=null;var map={};$.each(prop.split("\n"),function(){if(cont){value+=value.substring(0,value.length-1);if(endRE.test(this)){return }map[key]=value;cont=false;key=value=null;return }var line=$.trim(this);if(line==""||line.charAt(0)=="#"){return }var tokens=line.split("=");var k=$.trim(tokens[0]);if(k.charAt(0)=="#"){return }var v=$.trim(tokens.length>1?tokens[1]:"");if(endRE.test(v)){cont=true;key=k;value=v.substring(0,v.length-1);return }map[k]=v});bundles[lang]=map;AppC.beforeCompile(function(){$("[@id]").localize(lang)});$(document).trigger("localized",lang)}})}catch(E){if(lang.indexOf("-")>0){return AppC.locale(lang.split("-")[0])}$.error("error loading language bundle for language = "+lang+", Exception = "+E)}}else{AppC.beforeCompile(function(){$("[@id]").localize(lang)});$(document).trigger("localized",lang)}};$.fn.localize=function(lang){if(this.length>1){$.each(this,function(){$(this).localize(lang)});return this}var id=$(this).attr("id");if(id!=null){var m=bundles[lang||AppC.currentLocale];if(m){var value=m[id];if(value){var el=$(this).get(0);switch(el.nodeName){case"INPUT":case"BUTTON":$(this).val(value);break;default:$(this).html(value);break}}}}return this};if(AppC.config.auto_locale){AppC.locale(AppC.currentLocale)}$.fn.move=function(params){$.each(this,function(){$(this).css("position","relative").animate({left:params.x||0,top:params.y||0},params.duration||1000)})};$.fn.on=function(value,state){var el=$(this);var isFn=typeof (state)=="function";if(isFn){value=value+" then script[true]"}var expr=App.parseExpression(value);$.each(expr,function(){var p=App.extractParameters(this[2]);var ep=isFn?null:this[3]?App.extractParameters(this[3]):null;var param={cond:this[1],action:isFn?state:p.name,actionParams:isFn?null:p.params,elseAction:ep?ep.name:null,elseActionParams:ep?ep.params:null,delay:this[4],ifCond:this[5],state:state};App.processCond(el,param)});return this};regCSSAction("opacity",function(params){var value=(typeof (params)=="string"||typeof (params)=="number")?params:(params?params.value:null);if(typeof (value)=="undefined"&&params){for(var p in params){if(p=="id"||p=="source"){continue}value=params[p];break}}if(typeof (value)=="undefined"){value=1}if(typeof (value)!="number"){value=parseFloat(value)}this.css("opacity",(value==1||value=="")?"1.0":(value<0.00001)?0:value)});var subs={local:[],remote:[]};var re=/^(l|local|both|r|remote|\*)\:(.*)$/;var localRe=/^l|local|both|\*/;var pubdebug=AppC.params.debug=="2"||AppC.params.debug=="1";var queue=[];var remoteDisabled=true;var queueInit=false;var processingQueue=false;$.fn.sub=function(name,fn,params){name=App.normalizePub(name);var regexp=null;var m=re.exec(name);var type=m[2];if(type.charAt(0)=="~"){type=type.substring(1);regexp=new RegExp(type)}if(this.get(0)!=document){$(this).trash(function(){$(this).unsub(name,fn)})}$.debug("subscribing type="+type+", regexp="+regexp);if(localRe.test(m[1])){subs.local.push({scope:this,fn:fn,name:type,params:params,regexp:regexp})}else{subs.remote.push({scope:this,fn:fn,name:type,params:params,regexp:regexp})}return this};$.fn.unsub=function(name,fn){name=App.normalizePub(name);var match=re.exec(name);if(match){var array=match[1]=="remote"?subs.remote:subs.local;var type=match[2];var found=[];for(var c=0;c<array.length;c++){var entry=array[c];if(entry.name==type&&entry.fn==fn){found.push(c)}}for(var c=0;c<found.length;c++){array.splice(found[c],1)}}};App.normalizePub=function(name){var idx=name.indexOf("[");if(idx>0){name=name.substring(0,idx)}var m=re.exec(name);if(!m){return"both:"+name}switch(m[1]){case"l":case"local":return"local:"+m[2];case"r":case"remote":return"remote:"+m[2]}return"both:"+m[2]};App.pubQueue=function(name,data,local,scope,version){if(pubdebug){$.info("publish "+name+" with "+$.toJSON(data))}if(subs.local.length==0&&subs.remote.length==0){return }queue.push({data:data||{},name:name,local:local,scope:scope,version:version});if(remoteDisabled&&queueInit&&!processingQueue){processQueue()}};$.fn.pub=function(name,data,scope,version){var m=re.exec(name);var isLocal=localRe.test(m[1]);data=data||{};App.getFieldsetData(this,data);if(isLocal&&!data.event){data.event={id:$(this).attr("id")}}if(!isLocal&&data.event){delete data.event}App.pubQueue(m[2],data,isLocal,scope,version);return this};$(document).bind("compiled",function(){queueInit=true;processQueue()});App.regCond(re,function(meta){$(this).sub(meta.cond,function(data){App.triggerAction(this,data,meta)})});App.regAction(/^(l|local|both|\*|r|remote)\:/,function(params,action){$(this).pub(action,params)});function deliverRemoteMessages(msgs){$.debug("remote messages received = "+$.toJSON(msgs));$.each(msgs,function(){var msg=this;$.each(subs.remote,function(){if((this.regexp&&this.regexp.test(msg.name))||(!this.regexp&&this.name==msg.name)){this.fn.apply(this.scope,[msg.data,msg.scope,msg.version,msg.name,"remote"])}})})}var instanceid=AppC.params.instanceid||App.MD5.hex_md5(String(new Date().getTime())+String(Math.round(9999*Math.random())));function getServiceURL(){var token=App.MD5.hex_md5(sessionCookie+instanceid);return serviceBroker+"?instanceid="+instanceid+"&auth="+token+"&ts="+String(new Date().getTime())}var marshallers={};var currentRequestId=0;marshallers["xml/json"]=function(q){var requestid=currentRequestId++;var xml="";var time=new Date;var timestamp=time.getTime();xml="<?xml version='1.0' encoding='UTF-8'?>\n";var tz=time.getTimezoneOffset()/60;var idleMs=0;xml+="<request version='1.0' idle='"+idleMs+"' timestamp='"+timestamp+"' tz='"+tz+"'>\n";$.each(q,function(){xml+="<message requestid='"+requestid+"' type='"+this.name+"' datatype='JSON' scope='"+(this.scope||"appcelerator")+"' version='"+(this.version||"1.0")+"'>";xml+="<![CDATA["+$.toJSON(this.data)+"]]>";xml+="</message>"});xml+="</request>";$.ajax({type:"POST",url:getServiceURL(),data:xml,cache:false,dataType:"xml",contentType:"text/xml",success:function(xml){var children=xml.documentElement.childNodes;if(children&&children.length>0){var msgs=[];for(var c=0;c<children.length;c++){var child=children.item(c);if(child.nodeType==1){var requestid=child.getAttribute("requestid");var type=child.getAttribute("type");var datatype=child.getAttribute("datatype");var scope=child.getAttribute("scope")||"appcelerator";var text=$.domText(child);var data=$.evalJSON(text);msgs.push({name:type,data:data,datatype:datatype,scope:scope,requestid:requestid})}}deliverRemoteMessages(msgs)}}})};marshallers["application/json"]=function(q){var requestid=this.currentRequestId++;var request={};var time=new Date;var json={timestamp:time.getTime()+(time.getTimezoneOffset()*60*1000),version:"1.0",messages:[]};for(var c=0,len=q.length;c<len;c++){var e=q[c];json.messages.push({type:e.name,data:e.data,version:e.version,scope:e.scope})}$.ajax({type:"POST",url:getServiceURL(),data:$.toJSON(json),cache:false,dataType:"json",contentType:"application/json",success:function(result){var msgs=[];for(var c=0;c<result.messages.length;c++){var message=result.messages[c];var type=message.type;var datatype=message.datatype;var scope=message.scope||"appcelerator";var data=message.data;message.datatype="JSON";msgs.push({name:type,data:data,datatype:datatype,scope:scope})}deliverRemoteMessages(msgs)}})};function remoteDelivery(q){if(!remoteDisabled){marshaller(q)}}function processQueue(){if(queue.length<1){return }var rq=remoteDisabled?null:[];processingQueue=true;for(var i=0;i<queue.length;i++){var a=queue[i].local?subs.local:subs.remote;var name=queue[i].name;var data=queue[i].data;var scope=queue[i].scope;var version=queue[i].version;var direction=queue[i].local?"local":"remote";for(var j=0;j<a.length;j++){if((a[j].regexp&&a[j].regexp.test(name))||(!a[j].regexp&&a[j].name==name)){if(App.parseConditionCondition(a[j].params,data)){a[j].fn.apply(a[j].scope,[data,scope,version,name,direction])}}}}if(rq&&rq.length>0){remoteDelivery(rq)}queue=[];processingQueue=false}var queueTimer;var serviceBroker;var marshaller;var sessionCookie;function startDelivery(config){$.debug("remote config => "+$.toJSON(config));remoteDisabled=false;var sb=config.servicebroker;if(!sb||sb.disabled=="true"){remoteDisabled=true;$.info("Appcelerator remote services disabled");return }serviceBroker=sb.value;if(!serviceBroker){$.error("Error loading service broker! not specified in appcelerator.xml");remoteDisabled=true;return }if(!remoteDisabled){marshaller=marshallers[sb.marshaller];if(!marshaller){$.error("Error loading marshaller = "+sb.marshaller);remoteDisabled=true;return }var cookieName=config.sessionid.value||"unknown_cookie_name";var cookieValue=$.cookie(cookieName);if(!cookieValue){$.ajax({type:"GET",url:serviceBroker,data:"initial=1",async:true,success:function(){sessionCookie=$.cookie(cookieName);$.debug("sessionCookie = "+sessionCookie);queueTimer=setInterval(processQueue,10)}})}else{sessionCookie=cookieValue;$.debug("sessionCookie = "+sessionCookie);queueTimer=setInterval(processQueue,10)}}}try{AppC.serverConfig={};if(AppC.docRoot.indexOf("file:/")<0){var url=AppC.docRoot+"appcelerator.xml";$.ajax({async:true,cache:true,dataType:"xml",type:"GET",url:url,success:function(data){var re=/@\{(.*?)\}/g;var map={rootPath:AppC.docRoot};var children=data.documentElement.childNodes;for(var c=0;c<children.length;c++){var child=children[c];if(child.nodeType==1){var service=child.nodeName.toLowerCase();var config={};var path=$.domText(child);var template=AppC.compileTemplate(path,false,null,re);for(var x=0;x<child.attributes.length;x++){var attr=child.attributes[x];config[attr.name]=attr.value}config.value=template(map);AppC.serverConfig[service]=config}}$(document).trigger("serverConfig",AppC.serverConfig);startDelivery(AppC.serverConfig)},error:function(xhr,text,error){$.error("error retrieving appcelerator.xml, remote services are disabled. error = "+text)}})}}catch(e){$.error("error loading "+docRoot+"appcelerator.xml, remote services are disabled. error = "+e)}$.fn.pulsate=function(count){for(var i=0;i<(count||4);i++){this.fadeOut("fast").fadeIn("fast")}return this};regCSSAction("pulsate",function(params){return getTarget(params,this).pulsate(params.count)});$.each(["clear","reset","clearform"],function(){$.fn[this]=function(){$.each(this,function(){var target=$(this);var tag=App.getTagname(this);switch(tag){case"a":target.attr("href","#");break;case"form":this.reset();target.find(":input").revalidate();break;default:target.val("");break}});return this}});$.each(["script","function","javascript"],function(){$.fn[this]=function(code,scope){var js=code;if(typeof (js)=="string"){js=$.toFunction(js)}else{if(code.nodeType==1){js=$.toFunction($(code).html())}else{if(typeof (code.jquery)=="string"){js=$.toFunction(code.get(0).html())}else{throw"I don't know what this object is: "+(typeof (code))+" for "+$(this).attr("id")}}}js.call(scope||window);return this}});(function($){var $scrollTo=$.scrollTo=function(target,duration,settings){$(window).scrollTo(target,duration,settings)};$scrollTo.defaults={axis:"xy",duration:1};$scrollTo.window=function(scope){return $(window).scrollable()};$.fn.scrollable=function(){return this.map(function(){var win=this.parentWindow||this.defaultView,elem=this.nodeName=="#document"?win.frameElement||win:this,doc=elem.contentDocument||(elem.contentWindow||elem).document,isWin=elem.setInterval;return elem.nodeName=="IFRAME"||isWin&&$.browser.safari?doc.body:isWin?doc.documentElement:this})};$.fn.scrollTo=function(target,duration,settings){if(typeof duration=="object"){settings=duration;duration=0}if(typeof settings=="function"){settings={onAfter:settings}}settings=$.extend({},$scrollTo.defaults,settings);duration=duration||settings.speed||settings.duration;settings.queue=settings.queue&&settings.axis.length>1;if(settings.queue){duration/=2}settings.offset=both(settings.offset);settings.over=both(settings.over);return this.scrollable().each(function(){var elem=this,$elem=$(elem),targ=target,toff,attr={},win=$elem.is("html,body");switch(typeof targ){case"number":case"string":if(/^([+-]=)?\d+(px)?$/.test(targ)){targ=both(targ);break}targ=$(targ,this);case"object":if(targ.is||targ.style){toff=(targ=$(targ)).offset()}}$.each(settings.axis.split(""),function(i,axis){var Pos=axis=="x"?"Left":"Top",pos=Pos.toLowerCase(),key="scroll"+Pos,old=elem[key],Dim=axis=="x"?"Width":"Height",dim=Dim.toLowerCase();if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(settings.margin){attr[key]-=parseInt(targ.css("margin"+Pos))||0;attr[key]-=parseInt(targ.css("border"+Pos+"Width"))||0}attr[key]+=settings.offset[pos]||0;if(settings.over[pos]){attr[key]+=targ[dim]()*settings.over[pos]}}else{attr[key]=targ[pos]}if(/^\d+$/.test(attr[key])){attr[key]=attr[key]<=0?0:Math.min(attr[key],max(Dim))}if(!i&&settings.queue){if(old!=attr[key]){animate(settings.onAfterFirst)}delete attr[key]}});animate(settings.onAfter);function animate(callback){$elem.animate(attr,duration,settings.easing,callback&&function(){callback.call(this,target,settings)})}function max(Dim){var attr="scroll"+Dim,doc=elem.ownerDocument;return win?Math.max(doc.documentElement[attr],doc.body[attr]):elem[attr]}}).end()};function both(val){return typeof val=="object"?val:{top:val,left:val}}})(jQuery);App.regAction(evtRegex("selectOption"),function(params){$.error("not implemented")});var cssProperties=["border","padding","margin","color","cursor","font","fontFamily","visibility","position","overflow","filter","display","backgroundColor","backgroundPosition","backgroundAttachment","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderSpacing","borderTopColor","borderTopStyle","borderTopWidth","bottom","clip","color","fontSize","fontWeight","height","left","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","markerOffset","maxHeight","maxWidth","minHeight","minWidth","opacity","outlineColor","outlineOffset","outlineWidth","paddingBottom","paddingLeft","paddingRight","paddingTop","right","textIndent","top","width","wordSpacing","zIndex"];$.fn.set=function(params){params=convertParams(params);$.each(this,function(){var target=$(this);var tag=App.getTagname(this);for(var p in params){switch(p){case"id":case"event":break;case"class":case"className":target.attr("class",params[p]);break;case"style":$.each(params[p].split(";"),function(){var t=this.split(":");if(t&&t.length>1){target.css(t[0],t[1]);return }});break;case"href":switch(tag){case"a":case"link":target.attr("href",URI.absolutizeURI(params[p],AppC.docRoot));break}case"src":switch(tag){case"iframe":case"script":case"image":var onload=target.attr("onloaded");if(onload){var done=false;el.onload=el.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){done=true;target.pub(onload,{source:{id:el.id}},target.attr("scope"));el.onload=null}}}if(AppC.UA.opera){el.location.href=URI.absolutizeURI(params[p],AppC.docRoot)}else{el.src=URI.absolutizeURI(params[p],AppC.docRoot)}break;default:target.attr(p,params[p]);break}break;default:if(cssProperties.indexOf(p)!=-1||cssProperties.indexOf($.camel(p))!=-1){target.css(p,params[p])}else{target.attr(p,params[p])}}}})};$.fn.srcexpr=function(value){var srcvalue=eval($.unescapeXML(value));if(AppC.UA.IE6){}$(this).get(0).src=srcvalue;return this};App.regAction(evtRegex("statechange"),function(params){$.error("not implementing")});var testCases=[];var testPassed=0;var testFailed=0;var testErrored=0;var testListener=null;$.fn.assert=function(){var passed=true,error=null,stop=false,message=String(arguments[0]),expr=arguments[0];if(typeof (arguments[0])=="string"&&arguments.length==2){expr=arguments[1]}var type=typeof (expr);if(type=="boolean"){passed=expr;stop=true}else{if(type=="string"){expr=$.toFunction(expr)}else{passed=typeof (expr)!="undefined"?true:false;stop=true}}if(!stop){$.each(this,function(){try{var result=expr.call($(this));if(result!==true){passed=false;return false}}catch(E){passed=false;error=E;return false}})}var result={passed:passed,expr:String(expr),message:message,error:error};testCases.push(result);if(passed){testPassed++}if(error){testErrored++}if(!passed&&!error){testFailed++}if(testListener){testListener.result(result)}return this};$.fn.assertEnabled=function(){var passed=true;$.each(this,function(){var v=$(this).attr("disabled");if(v){passed=false;return false}});return this.assert(passed)};$.fn.assertDisabled=function(){var passed=true;$.each(this,function(){var v=$(this).attr("disabled");if(!v){passed=false;return false}});return this.assert(passed)};$.fn.assertCSS=function(key,val){var passed=true;$.each(this,function(){var v=$(this).css(key);if(v!=val){passed=false;return false}});return this.assert(passed)};$.fn.assertClass=function(className){var passed=true;$.each(this,function(){if($(this).hasClass(className)==false){passed=false;return false}});return this.assert(passed)};$.fn.assertAttr=function(attr){var passed=true;$.each(this,function(){if(!$(this).attr(attr)){passed=false;return false}});return this.assert(passed)};$.fn.assertValid=function(){var passed=true;$.each(this,function(){var v=$(this).data("validatorResult");if(!v){passed=false;return false}});return this.assert(passed)};$.fn.assertInvalid=function(){var passed=true;$.each(this,function(){var v=$(this).data("validatorResult");if(v){passed=false;return false}});return this.assert(passed)};var oldPub=App.pubQueue;var lastPubType=null,lastPubData=null;App.pubQueue=function(name,data,local,scope,version){lastPubType=(local?"local":"remote")+":"+name;lastPubData=data;return oldPub.apply(this,arguments)};$.fn.assertPub=function(name,data){name=App.normalizePub(name);if(typeof (data)=="undefined"){return this.assert(name+" was not correct. expected: "+name+", was: "+lastPubType,lastPubType===name)}if(name!==lastPubType){return this.assert(name+" was not correct. expected: "+name+", was: "+lastPubType,name===lastPubType)}if(!lastPubData){return this.assert(name+" missing data payload: "+$.toJSON(data),false)}for(var key in data){var v1=lastPubData[key];var v2=data[key];if(v1!==v2){return this.assert(name+" has incorrect data payload entry for key: "+key+", expected: "+v2+", was: "+v1,false)}}return this.assert(name,true)};var TestGuard=function(timeout,fn,cb){var count=0;var done=false;var timer=setTimeout(function(){if(count!=0){done=true;$(document).assert("test failed because it timed out",false);if(cb.timeout){cb.timeout()}$.error("test timed out");fn()}},timeout);this.begin=function(){if(done){return }count++;if(cb&&cb.begin){cb.begin(count)}};this.end=function(){if(done){return }count--;if(cb&&cb.end){cb.end(count)}if(count==0){clearTimeout(timer);done=true;timer=null;fn()}};this.assert=function(a,b){if(done){return }return $(document).assert(a,b)};this.assertPub=function(name,data){if(done){return }return $(document).assertPub(name,data)}};AppC.runTests=function(timeout,begin,end,cb){var timeout=typeof (timeout)!="number"?10000:timeout;begin=typeof (timeout)!="number"?timeout:begin;end=typeof (timeout)!="number"?begin:end;cb=typeof (timeout)!="number"?end:cb;testCases=[];testPassed=0;testFailed=0;testErrored=0;testListener=cb;var complete=function(){if(end){end({passed:testPassed,failed:testFailed,errored:testErrored,tests:testCases})}else{var count=testPassed+testFailed+testErrored;var msg="TEST RESULTS: "+count+" test"+(count>1?"s":"")+" executed: ";if(testFailed>0||testErrored>0){var r=[];if(testFailed){r.push(testFailed+" failed")}if(testErrored){r.push(testErrored+" errored")}r.push(testPassed+" passed");msg+=r.join(", ")}else{msg+="All Passed! Now go take a nice break."}$.info(msg);if(testFailed||testErrored){$.each(testCases,function(){if(this.error){$.error("ERROR: "+this.error+", message: "+this.message)}else{$.error("FAILED: "+this.expr+", message: "+this.message)}})}}};var guard=new TestGuard(timeout,complete,cb);guard.begin();begin(guard);guard.end()};$.fn.toggle=function(params){params=convertParams(params);$.each(this,function(){var target=$(this);for(var p in params){switch(p){case"id":case"event":break;case"className":case"class":target.toggleClass(params[p]);break;default:if(cssProperties.indexOf(p)!=-1||cssProperties.indexOf($.camel(p))!=-1){var currentVal=target.css(p);var opposites={inline:"none",block:"none",none:"block",hidden:"visible",visible:"hidden"};var opposite=opposites[currentVal]||"";if(currentVal==params[p]){target.css(p,opposite);break}else{target.css(p,params[p]);break}}else{if(target.attr(p)){target.removeAttr(p);break}else{target.attr(p,params[p]);break}}}}});return this};$.fn.trash=function(fn){var trash=this.data("trash");if(!trash){trash=[];this.data("trash",trash)}if(arguments.length==0||typeof (fn)=="undefined"){return trash}trash.push(fn);return this};$.fn.destroy=function(){var scope=$(this);if(!scope.attr("id")){return this}$.info("destroyed called = "+scope.attr("id"));$.each(this,function(){var el=$(this);var trash=el.trash();if(trash&&trash.length>0){$.each(trash,function(){try{this.call(scope)}catch(E){}});el.trigger("destroyed")}el.removeData("trash")});return this};var oldEmpty=$.fn.empty;$.fn.empty=function(){var el=$(this).get(0);if(el){var set=getTargetCompileSet(el,true);$.each(set,function(){$(this).destroy()})}return oldEmpty.apply(this,arguments)};var oldRemove=$.fn.remove;$.fn.remove=function(){$.each(this,function(){var scope=$(this);scope.destroy();oldRemove.call(scope)});return this};$.fn.value=function(object,property,defValue){var value=$.getNestedProperty(object,property,defValue);if(this.is(":input")){this.val(value)}else{this.html(value)}return this};regCSSAction("visible","visibility");$.each(["add","remove"],function(){var action=this;App.regAction(evtRegex(action),function(params,name){var target=getTarget(params,this);for(var p in params){switch(p){case"id":case"event":break;default:target[action](p,params[p]);break}}return this})});App.regAction(evtRegex("cookie"),function(params){$.cookie(params.name,params.value,params)});App.regAction(evtRegex("disable"),function(params){return getTarget(params,this).disable()});App.handleBasicEffect=function(obj,action,params){var target=obj;var opts={},speed=0,easing=null;for(var p in params){switch(p){case"event":continue;case"id":target=$("#"+params[p]);break;case"speed":speed=params[p];break;case"easing":easing=params[p];break;default:opts[$.camel(p)]=params[p];break}}$.debug("effect="+action+",target="+target.attr("id")+",opts="+$.toJSON(opts)+",speed="+speed+",easing="+easing);switch(action){case"animate":var position=target.css("position");if(position!="relative"&&position!="absolute"){target.css("position","relative")}return target.animate(opts,speed,easing);case"fadeTo":return target.fadeTo(target,[speed,opts.opacity||opts.to||1]);default:return target[action].apply(target,[speed])}};$.fn.appear=function(){$.each(this,function(){$(this).fadeIn()});return this};$.fn.fade=function(){$.each(this,function(){$(this).fadeOut()});return this};$.each(["show","hide","slideToggle","slideUp","slideDown","fadeIn","fadeOut","fadeTo","animate","appear","fade"],function(){var name=$.string(this);App.regAction(evtRegex(name),function(params){return App.handleBasicEffect(getTarget(params,this),name,params)})});App.regAction(evtRegex("enable"),function(params){return getTarget(params,this).enable()});regCSSAction("move",function(params){return getTarget(params,this).move(params)});$.each(["clear","reset","clearform"],function(){var eventName=this;App.regAction(evtRegex(eventName),function(params,name,data){return getTarget(params,this)[eventName]()})});$.each(["script","function","javascript"],function(){var type=this;App.regAction(evtRegex(this),function(params,name,data){return getTarget(params,this)[type](data,params)},true)});App.regAction(evtRegex("value"),function(params,name,data){return getTarget(params,this).value(params,data)},true);App.regAction(evtRegex("bind"),function(params){var target=getTarget(params,this);var fieldset=target.attr("fieldset");if(!fieldset){$.error("bind action requires fieldset attribute");return this}this.find("[fieldset="+fieldset+"]").bind(params);return this});App.regAction(evtRegex("scrollTo"),function(params){var scrollTo=0;var duration=1000;var scrollToObj={};var useObj=false;var options={};var target=null;for(var p in params){switch(p){case"event":break;case"id":scrollTo=$("#"+params[p]);break;case"duration":duration=parseInt(params[p]);break;case"axis":options.axis=params[p];break;case"queue":options.queue=params[p];break;case"top":scrollToObj.top=params[p];useObj=true;break;case"left":scrollToObj.left=params[p];useObj=true;break;case"target":target=params[p];break;default:break}}if(target!=null){$("#"+target).scrollTo((useObj==true)?scrollToObj:scrollTo,duration,options)}else{$.scrollTo((useObj==true)?scrollToObj:scrollTo,duration,options)}});App.regAction(evtRegex("set"),function(){getTarget(params,this).set.apply(this,arguments);return this});App.regAction(evtRegex("toggle"),function(params){return getTarget(params,this).toggle(params)});regCSSAction("highlight",function(params){var bgColor=params["background-color"]||params.backgroundColor||"#ffffcc";return getTarget(params,this).highlight(bgColor)});App.reg("on","*",function(value,state){$(this).on(value,state)});var appuid=$.cookie("appuid");var staturi=(("https:"==document.location.protocol)?"https://s3.amazonaws.com/tracker.appcelerator.org/":"http://tracker.appcelerator.org/")+"app.js";if(!appuid){appuid=App.UUID.newID();$.cookie("appuid",appuid,{expires:31536000000*5,path:"/",domain:document.domain})}var _onerror=window.onerror,_sending=false;function TrackStat(evt,extra){if(AppC.config.track_stats){_sending=true;var d=new Date().getTime()-(started||new Date).getTime();var uri=staturi+"?t="+Number(new Date)+"&dur="+d+"&evt="+evt+"&appuid="+appuid+"&tid="+started.getTime()+"&"+(extra||"");try{$.getScript(uri)}catch(E){}_sending=false}}var errorCount=0;var errorMax=5;window.onerror=function(msg,url,line){if(_sending){return }try{if(url&&url.indexOf(staturi)!=-1){return }if(errorCount++>errorMax){return }if(!url&&!line&&typeof (msg)=="object"&&typeof (msg.stopPropagation)=="function"){_sending=false;return }$.error("generic uncaught error = "+String(msg)+", url = "+url+", line = "+line);var s="msg="+encodeURIComponent($.encode64(String(msg)))+"&url="+encodeURIComponent($.encode64(String(url||"")))+"&line="+encodeURIComponent(line||-1);TrackStat(2,s);if(_onerror){_onerror(msg,url,line)}}catch(e){$.error("caught error in window.onerror = "+e);_sending=false;return false}};$(document).bind("compiled",function(){var sendRemote=window.location.href.indexOf("file:/")!=-1&&AppC.config.report_stats;var screenHeight=screen.height;var screenWidth=screen.width;var colorDepth=screen.colorDepth||-1;var tz=started.getTimezoneOffset()/60;var cookies=[];$.each((document.cookie||"").split(";"),function(){var t=this.split("=");if(t.length>0){cookies.push({name:t[0],value:t[1]})}});var data={userAgent:navigator.userAgent,flash:AppC.UA.flash,flashver:AppC.UA.flashVersion,silverlight:AppC.UA.silverlight,silverlightver:AppC.UA.silverlightVersion,gears:AppC.UA.gears,fluid:AppC.UA.fluid,screen:{height:screenHeight,width:screenWidth,color:colorDepth},os:AppC.UA.platform,referrer:document.referrer,path:window.location.href,cookies:cookies,tz:tz,uid:appuid};setTimeout(function(){if(sendRemote){if(window.parent==null||window.parent==window){$(document).pub("r:appcelerator.status.report",data)}}var a=0,s=0,v=1,c=null,l=null,svc=null;c=AppC.serverConfig.aid;if(c){a=c.value}c=AppC.serverConfig.sid;if(c){s=c.value}c=AppC.serverConfig.language;if(c){l=c.value}c=AppC.serverConfig.service;if(c){svc=c.value}var p=AppC.UA.platform||"unknown";var f=AppC.UA.flashVersion;var sic=(AppC.serverConfig.sessionid||{}).value;var si=sic?$.cookie(sic):null;var qs=$.toQueryString({wv:String(AppC.Version),v:v,a:a,s:s,gg:Number(AppC.UA.gears),fd:Number(AppC.UA.fluid),dm:data.screen.width+","+data.screen.height+","+data.screen.color,p:AppC.UA.platform,tz:tz,fv:data.flashver,sv:data.silverlightver,r:$.encode64(document.referrer||""),t:$.encode64(document.title||""),si:si,sct:compileTime,slt:loadTime,bl:window.navigator.language,lng:l,svc:svc,js:$.encode64(jsLocation)});TrackStat(1,qs)},2000+Math.round(1999*Math.random()));$(window).unload(function(){TrackStat(0)})})})(jQuery);
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:app="http://appcelerator.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<script type="text/javascript" src="../appcelerator/appcelerator-debug.js"></script>
	<script type="text/javascript" src="../appcelerator/appcelerator-compat-debug.js"></script>
	<link rel="stylesheet" type="text/css" href="../css/test.css" />
</head>
<body>

<h3> State Machine Widget </h3> 
<p>
	These tests exercise the statemachine widget
</p>

<table width="90%">
	<tr>
		<td class="test" valign="middle">
			Basic State Machine
		</td>
		<td class="result" >
			<a on="click then l:sm1">State Valid</a> | 			
			<a on="click then l:sm2">State Invalid</a>			

			<div on="sm1[valid] then set[color=green] and set[innerHTML='valid passed']
			else set[color=red] and set[innerHTML='invalid passed']">
			</div>
			<app:statemachine id="sm1">
				<state name="invalid" if="l:sm2"></state>
				<state name="valid" if="l:sm1"></state>
			</app:statemachine>
			 
		</td>
	</tr>

	<tr>
		<td class="test" valign="middle">
			Basic State Machine (with initial state set)
		</td>
		<td class="result" >
			<a on="click then l:sm3">State Valid</a> | 			
			<a on="click then l:sm4">State Invalid</a>			

			<div on="sm2[valid] then set[color=green] and set[innerHTML='valid passed']
			else set[color=red] and set[innerHTML='invalid passed']">
			</div>
			<app:statemachine id="sm2" initial="valid">
				<state name="invalid" if="l:sm4"></state>
				<state name="valid" if="l:sm3"></state>
			</app:statemachine>
			 
		</td>
	</tr>
	<tr>
		<td class="test" valign="middle">
			Change state with Action
		</td>
		<td class="result" >
			<a on="click then statechange[sm3=valid]">State Valid</a> | 			
			<a on="click then statechange[sm3=invalid]">State Invalid</a>			

			<div on="sm3[valid] then set[color=green] and set[innerHTML='valid passed']
			else set[color=red] and set[innerHTML='invalid passed']">
			</div>
			<app:statemachine id="sm3" initial="valid">
				<state name="invalid"></state>
				<state name="valid" ></state>
			</app:statemachine>
			 
		</td>
	</tr>

</table>


</body>

</html>

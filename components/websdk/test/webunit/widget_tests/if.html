<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:app="http://www.appcelerator.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<script type="text/javascript" src="../appcelerator/appcelerator-debug.js"></script>
	<script type="text/javascript" src="../appcelerator/appcelerator-compat-debug.js"></script>
	<link rel="stylesheet" type="text/css" href="../css/test.css" />
<style>
<!--
.test
{
	width:35%;
}
input[type=text]
{
	width:40%;
	border:1px solid #ccc;
	padding:3px;
	font-size:12px;
}
-->
</style>
</head>
<body>

<h3> If Widget </h3> 
<p>
	These tests exercise the if widget
</p>

<table width="90%">
	<tr>
		<td class="test" valign="middle">
			Basic If
		</td>
		<td class="result" >
			<app:if expr="true">
				Test Passed
			</app:if>
		</td>
	</tr>
	<tr>
		<td class="test" valign="middle">
			If With Else
		</td>
		<td class="result" >
			<app:if expr="false">
				Should not be shown (test failed)
			<else>
				Test Passed
			</else>
			</app:if>
		</td>
	</tr>
	<tr>
		<td class="test" valign="middle">
			If With Elseif
		</td>
		<td class="result" >
			<app:if expr="false">
				Should not be shown (test failed)
			<elseif expr="true">
				Test Passed
			</elseif>
			<else>
				Should not be shown (test failed)
			</else>			
			</app:if>
		</td>
	</tr>
    <tr>
        <td class="test" valign="middle">
            Inside of an iterator
        </td>
        <td class="result" >
            <app:iterator on="l:test_iterator_if then execute" property="rows">
                <html:div>
                    <app:if expr="false">
                        <html:p>Should not be shown (test failed)</html:p>
                    <else>
                        <html:p>    Test Passed</html:p>
                    </else>         
                    </app:if>
                </html:div>
            </app:iterator>
            <app:script on="l:app.compiled then execute">
                $MQ('l:test_iterator_if',{rows:[{'name':'Joe','city':'New York'},{'name':'Fred','city':'New Jersey'},{'name':'Earl','city':'Texas'}]});
            </app:script>
        </td>
    </tr>
    <tr>
        <td class="test" valign="middle">
            Inside of an iterator table without else (complex)
        </td>
        <td class="result" >
             <app:iterator id="manage_messages_iterator" on="l:test_iterator_if then execute" property="rows" table="true" headers="name,city" headerids="testiterator_1,testiterator_2" headerstyles="text-align:center,text-align:left">
	             <app:if expr="false"  style="display:none" parent_tag="td" deleteelse="true">
	                 <html:td>#{name} Should not be shown (test failed)</html:td>
	             </app:if>
                <html:td>
					#{city}
                </html:td>
            </app:iterator>
			<app:script on="l:test_iterator_if then execute after 250">
				Element.hide($('testiterator_1'));
			</app:script>
        </td>
    </tr>
    <tr>
        <td class="test" valign="middle">
            If inside of an iterator inside of a content file
        </td>
        <td class="result" >
            <app:content src="content/app_if_content.html" onload="l:iterate_if"></app:content>
        </td>
    </tr>
</table>
</body>
</html>

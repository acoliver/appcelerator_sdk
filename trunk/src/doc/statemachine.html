<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:app="http://www.appcelerator.org">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<script type="text/javascript" src="js/appcelerator.js"></script>

<link rel="stylesheet" type="text/css" href="css/SyntaxHighlighter.css" />
<link rel="stylesheet" type="text/css" href="css/doc_content.css" />

<script type="text/javascript" src="js/doc.js"></script>
<script type="text/javascript" src="js/sh/shCore.js"></script>
<script type="text/javascript" src="js/sh/shBrushJScript.js"></script>
<script type="text/javascript" src="js/sh/shBrushXml.js"></script>
<script type="text/javascript" src="js/sh/shBrushCss.js"></script>
<script type="text/javascript" src="js/sh/shBrushRuby.js"></script>
<script type="text/javascript" src="js/sh/shBrushJava.js"></script>
<script type="text/javascript" src="js/sh/shBrushPhp.js"></script>

<style>
<!--


.defcon2 
{ 
   margin:0px auto; 
   padding: 5px; 
   border-style: solid; 
   border-width: 1px; 
   border-color: #F0C000; 
   background-color: #FFFFCE; 
}

.defcon1 
{ 
   margin:0px auto; 
   padding: 5px; 
   border-style: solid; 
   border-width: 1px; 
   border-color: #c00; 
   background-color: #fcc; 
}

.defcon3 
{ 
   margin:0px auto; 
   padding: 5px; 
   border-style: solid; 
   border-width: 1px; 
   border-color: #3c78b5; 
   background-color: #D8E4F1; 
}

.defcon4 
{ 
   margin:0px auto; 
   padding: 5px; 
   border-style: solid; 
   border-width: 1px; 
   border-color: #090; 
   background-color: #dfd; 
}       
.defcon5
{ 
   margin:0px auto; 
   padding: 5px; 
   border-style: solid; 
   border-width: 1px; 
   border-color: #090; 
   background-color: #dfd; 
}       

-->
</style>

</head>
<body style="visibility:hidden" on="l:app.compiled then visible">
	<h2>State Machine</h2>

	<!-- NAVIGATION -->
	<p>
	<a class="active" on="click then l:statemachine[show=example] and add[class=active] or l:statemachine[show!=example] then remove[class=active]">Example</a> |
	<a  on="click then l:statemachine[show=code] and add[class=active] or l:statemachine[show!=code] then remove[class=active]">Code</a> |
	<a  on="click then l:statemachine[show=usage] and add[class=active] or l:statemachine[show!=usage] then remove[class=active]">Usage</a> 
	</p>

	<!-- EXAMPLE -->
	<div on="l:statemachine[show=example] then show else hide">
		<p>
			The State Machine Widget allows you to define a client-side state machine.  Each
			State Machine widget can have one or more states defined.  State changes occur
			based on messages that your define.  Any HTML element can then track state change events
			and perform actions based on these state changes.
		</p>
		<p>Here's an example of a State Machine using my personal defense condition (MYDEFCON).  
			Click the links below to generate changes to MYDEFCON state.
		</p>
		<a on="click then l:mydefcon.change[value=one]">Some jerk getting chocolate in my peanut butter</a> <br/>
		<a on="click then l:mydefcon.change[value=two]">Stuck in Atlanta traffic</a> <br/>
		<a on="click then l:mydefcon.change[value=three]">The world supply of Gruyere cheese is eliminated by angry cheese-eating locusts</a> <br/>
		<a on="click then l:mydefcon.change[value=four]">I see another Jerry Bruckheimer film</a><br/>
		<a on="click then l:mydefcon.change[value=five]">Free Beer</a>

		<div style="margin:10px"></div>

		<div class="defcon1" on="mydefcon[one] then show else hide">
			MYDEFCON 1 [comments censored by legal department]
		</div>
		<div class="defcon2" on="mydefcon[two] then show else hide">
			MYDEFCON 2. Redrum.  Redrum.  Redrum.
		</div>
		<div class="defcon3" on="mydefcon[three] then show else hide">
			MYDEFCON 3. Damn. Now I'm getting angry.
		</div>
		<div class="defcon4" on="mydefcon[four] then show else hide">
			MYDEFCON 4. Okay that's 2 hours I'll never get back, but I'm maintaining my composure.
		</div>
		<div class="defcon5" on="mydefcon[five] then show else hide">
			MYDEFCON 5. Me - at peace... 
		</div>
		
		<app:statemachine id="mydefcon" initial="five">  
			<state name="one" if="l:mydefcon.change[value=one]"></state>  
			<state name="two" if="l:mydefcon.change[value=two]"></state>  
			<state name="three" if="l:mydefcon.change[value=three]"></state>  
			<state name="four" if="l:mydefcon.change[value=four]"></state>  
			<state name="five" if="l:mydefcon.change[value=five]"></state>  
		</app:statemachine>  
	</div>

	<!-- CODE -->
	<div on="l:statemachine[show=code] then show else hide" style="display:none">

		<p>Here's the code:
			<textarea name="code" class="xml:nocontrols">
				<a on="click then l:mydefcon.change[value=one]">Some jerk getting chocolate in my peanut butter</a> <br/>
				<a on="click then l:mydefcon.change[value=two]">Stuck in Atlanta traffic</a> <br/>
				<a on="click then l:mydefcon.change[value=three]">The world supply of Gruyere cheese is eliminated by angry cheese-eating locusts</a> <br/>
				<a on="click then l:mydefcon.change[value=four]">I see another Jerry Bruckheimer film</a><br/>
				<a on="click then l:mydefcon.change[value=five]">Free Beer</a>

				<div style="margin:10px"></div>

				<div class="defcon1" on="mydefcon[one] then show else hide">
					MYDEFCON 1 [comments censored by legal department]
				</div>
				<div class="defcon2" on="mydefcon[two] then show else hide">
					MYDEFCON 2. Redrum.  Redrum.  Redrum.
				</div>
				<div class="defcon3" on="mydefcon[three] then show else hide">
					MYDEFCON 3. Damn. Now I'm getting angry.
				</div>
				<div class="defcon4" on="mydefcon[four] then show else hide">
					MYDEFCON 4. Okay that's 2 hours I'll never get back, but I'm maintaining my composure.
				</div>
				<div class="defcon5" on="mydefcon[five] then show else hide">
					MYDEFCON 5. Me - at peace... 
				</div>

				<app:statemachine id="mydefcon" initial="five">  
					<state name="one" if="l:mydefcon.change[value=one]"></state>  
					<state name="two" if="l:mydefcon.change[value=two]"></state>  
					<state name="three" if="l:mydefcon.change[value=three]"></state>  
					<state name="four" if="l:mydefcon.change[value=four]"></state>  
					<state name="five" if="l:mydefcon.change[value=five]"></state>  
				</app:statemachine>  
			</textarea>	
		</p>
	</div>

	<!-- USAGE -->
	<div on="l:statemachine[show=usage] then show else hide" style="display:none">
		<p>
			 Required Options:
				<table cellspacing="5px">
					<tr>
					  <td class="term">id</td>
					  <td class="def">The name for the State Machine.  This value is used to reference the
						State Machine in condition statements</td>
					</tr>
					<tr>
					  <td class="term">initial</td>
					  <td class="def">The name of the initial state of the State Machine</td>
					</tr>
					<tr>
					  <td class="term">name</td>
					  <td class="def">The name of the individual state.  You should have at least 2 states defined</td>
					</tr>
					<tr>
					  <td class="term">if</td>
					  <td class="def">The <b>if</b> expression is defined for each individual state and defines
						the message or condition that will trigger the State Machine into that state
					</td>
					</tr>
				</table>
		</p>

	</div>	
	
	<script>
		dp.SyntaxHighlighter.ClipboardSwf = 'js/sh/clipboard.swf';

		dp.SyntaxHighlighter.HighlightAll('code');
	</script>

</body>

</html>
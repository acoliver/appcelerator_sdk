<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:app="http://www.appcelerator.org">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<script type="text/javascript" src="js/appcelerator.js"></script>

<link rel="stylesheet" type="text/css" href="css/SyntaxHighlighter.css" />
<link rel="stylesheet" type="text/css" href="css/doc_content.css" />

<script type="text/javascript" src="js/doc.js"></script>
<script type="text/javascript" src="js/sh/shCore.js"></script>
<script type="text/javascript" src="js/sh/shBrushJScript.js"></script>
<script type="text/javascript" src="js/sh/shBrushXml.js"></script>
<script type="text/javascript" src="js/sh/shBrushCss.js"></script>
<script type="text/javascript" src="js/sh/shBrushRuby.js"></script>
<script type="text/javascript" src="js/sh/shBrushPython.js"></script>
<script type="text/javascript" src="js/sh/shBrushPhp.js"></script>



</head>
<body style="visibility:hidden" on="l:app.compiled then visible">
	<h2>Python</h2>
	<p>
	<a class="active" on="click then l:pythongettingstarted[show=install] and add[class=active] or l:pythongettingstarted[show!=install] then remove[class=active]">Installation</a> |
	<a  on="click then l:pythongettingstarted[show=client] and add[class=active] or l:pythongettingstarted[show!=client] then remove[class=active]">Web Client</a> |
	<a  on="click then l:pythongettingstarted[show=service] and add[class=active] or l:pythongettingstarted[show!=service] then remove[class=active]">Python Service</a> 
	</p>

	<div on="l:pythongettingstarted[show=install] then effect[Appear] else effect[Fade]">

		<h3>Pre-requisites</h3>
		<p>
		It is assumed that you already have the following installed:
		<ul>
			<li>python 2.5 from <a href="http://www.python.org" target="_blank">http://www.python.org/</a> (2.4 will work, but is unsupported and confuses easy_install on windows)</li>
			<li>setuptools from <a href="http://peak.telecommunity.com/DevCenter/setuptools" target="_blank">http://peak.telecommunity.com/DevCenter/setuptools</a></li>
		</ul>
		</p>

		<h3>Reference</h3>
		<p>
		In the documentation below, the following symbols will be used in lieu of concrete examples
		<ul>
			<li><tt>$PROJECT</tt>: the name of the project that we will create ex: myfirstapplciation
		</ul>
		</p>

		<h3>Easy install</h3>
		<p>
			Let's install Appcelerator
			<pre class="command">easy_install Appcelerator</pre>
			
			(<a on="click then l:toggle_painful_windows_install_instructions">More instructions for installing on Windows</a>)
			<div on="l:toggle_painful_windows_install_instructions then toggle[display]" class="optional_text" style="display: none;">
			     If you are trying to install on Windows and get the following error:
			     <pre class="command_output">
error: Setup script exited with error: Python was built with Visual Studio 2003;
extensions must be built with a compiler than can generate compatible binaries.
Visual Studio 2003 was not found on this system. If you have Cygwin installed,
you can try compiling with MingW32, by passing "-c mingw32" to setup.py.</pre>
                You will want to run the following commands to install a version of simplejson that does not require a C compiler:
                <pre class="command">
easy_install --editable --build-directory . simplejson
cd simplejson
python setup.py --without-speedups install 
python setup.py --without-speedups install</pre>
                Yes, run the setup.py twice.<br/><br/>
                If simplejson is installed successful, you will see output like the following: 
                <pre class="command_output">
Installed c:\python25\lib\site-packages\simplejson-1.7.3-py2.5.egg
Processing dependencies for simplejson==1.7.3
Finished processing dependencies for simplejson==1.7.3</pre>
                Now rerun:
    			<pre class="command">easy_install Appcelerator</pre>
    			Phew! Thank. You. Redmond.
			</div>
			<br/><br/>
			
			Now let's install Pylons (which will be used later for creating the project)
			<pre class="command">easy_install Pylons</pre>
		</p>
	
		<h3>Create your project</h3>
		<p>
			<pre class="command">paster create -t appcelerator $PROJECT</pre>
			this will generate your project for you in a subdirecty named <tt>$PROJECT</tt>
		</p>
		
		<h3>Start the server</h3>
		<p>
			<pre class="command">
cd $PROJECT
paster serve --reload development.ini</pre>
			You should now be able to open <a href="http://localhost:5000" target="_blank">http//localhost:5000</a>
		</p>

		<h3>Testing</h3>
		You should now be able to hit the test service.  Goto <a href="http://localhost:5000/servicetester.html" target="_blank">http://localhost:5000/servicetester.html</a> and put the following in
		<ul>
			<li><b>message type</b>: remote:app.test.message.request.response
		</ul>
		you should get the following back
		<ul>
			<li><b>message type</b>: remote:app.test.message.response
			<li><b>data.message</b>: "I received from you: Hello,world"
			<li><b>data.success</b>: "true"
		</ul>
		<h3>Next Steps</h3>
		You are now ready to proceed to creating your <a on="click then l:pythongettingstarted[show=client]">Web Client</a>
	</div>
	<div on="l:pythongettingstarted[show=service] then effect[Appear] else effect[Fade]" style="display:none">
		<h3>Python Service</h3>
		To add a new service, simply add a function with the <b>@Service</b> decorator.
        To have your service recognized and registered with the Appcelerator Service Broker,
        make sure that you:
        <ul>
            <li>place service functions in the <tt>services</tt> directory</li>
            <li>use method signature <tt>def method_name(params, session, msgtype)</tt> (trailing arguments are optional)</li>
			<li>put the proper annotations directly above the method: <tt>@Service(request=xxx,response=xxx) </tt></li>
		</ul>

		<h3>$PROJECT/services/contact_manager_service.py</h3>
		Here is another bite-sized example:
        <textarea name="code" class="python:nocontrols">
@contact_manager_service.py@
		</textarea>
		
    </div>
	<div on="l:pythongettingstarted[show=client] then effect[Appear] else effect[Fade]" style="display:none">
		<p>
			<h3>Web Implementation</h3>
			Once you have created the project, your web source will exist in:
			<ul>
				<li><b>$PROJECT/public</b>: directory where all your html exists
				<li><b>$PROJECT/public/appcelerator.xml</b>: defines the location and behaviour of the Service Broker
			</ul>

			<h3>$PROJECT/public/appcelerator.xml</h3>
			You should not have to make any changes to this file
			<textarea name="code" class="xml:nocontrols">
@appcelerator-python.xml@
			</textarea>

			<h3>$PROJECT/public/index.html</h3>
			In the example below, you could modify the existing index.html to send a sample request to the server and display it in a div.  Note that the 
			source for this is also available under examples/simple/src/web/index.html in your project directory.
			<textarea name="code" class="xml:nocontrols">
@index.html@
			</textarea>

			<h3>Next Steps</h3>
			You are now ready to proceed to creating your <a on="click then l:pythongettingstarted[show=service]">Python Service</a>
		</p>
	</div>
	<script>
		dp.SyntaxHighlighter.ClipboardSwf = 'js/sh/clipboard.swf';

		dp.SyntaxHighlighter.HighlightAll('code');
	</script>
</body>

</html>
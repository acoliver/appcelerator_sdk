<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:app="http://www.appcelerator.org/appcelerator">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<script type="text/javascript" src="js/appcelerator.js"></script>

<link rel="stylesheet" type="text/css" href="css/appcelerator.css" />
<link rel="stylesheet" type="text/css" href="css/SyntaxHighlighter.css" />
<link rel="stylesheet" type="text/css" href="css/doc_content.css" />

<script type="text/javascript" src="js/locale/en.js"></script>

<script type="text/javascript" src="js/seamless2.js"></script>
<script type="text/javascript" src="js/sh/shCore.js"></script>
<script type="text/javascript" src="js/sh/shBrushJScript.js"></script>
<script type="text/javascript" src="js/sh/shBrushXml.js"></script>
<script type="text/javascript" src="js/sh/shBrushCss.js"></script>
<script type="text/javascript" src="js/sh/shBrushRuby.js"></script>
<script type="text/javascript" src="js/sh/shBrushJava.js"></script>
<script type="text/javascript" src="js/sh/shBrushPhp.js"></script>



</head>
<body>
	<h2>Localization</h2>
	
	<p>The Appcelerator Platform comes with a simple framework for externalizing application strings.
	<p>

	<h3>Locale File</h3>
	
	<p>
		First your need to create a file to store your externalized strings.
		This file should be a Javascript file and it should be included in your application.
		
	</p>
	
	<p>Here's are contents of a sample locale file
		<textarea name="code" class="xml:nocontrols">
			var en_lang_bundle = 
			{
				'login.username.label': 'Username:',
				'login.password.label': 'Password',
				'login.success.message': 'Welcome #{user}'
			};
			Appcelerator.Localization.addLanguageBundle('en','English',$H(en_lang_bundle));

		</textarea>	
	</p>
	
	<h3>Accessing Localized Values</h3>
	
	<p>
		There are two ways to get localized values from your locale file.  First, you can add the <tt>langid</tt>
		attribute to any element and its value  will be set to the value of the localized string matching the
		key provided.  Here's an example:
	</p>
	<textarea name="code" class="xml:nocontrols">
		<span langid="login.username.label"></span>
	</textarea>	
	<p>
		Second, you can programmatically get the value using Javascript.  The Appcelerator Localization framework
		provides two functions for getting localized string values.  Here they are:
	</p>
	<textarea name="code" class="javascript:nocontrols">

		//
		// get a language bundle key value or return defaultValue if not found
		//
		// key - the key for the localized string you want to retrieve
		// defaultValue - the default value if the key is not found
		// lang - the locale for the localized string
		Appcelerator.Localization.get = function(key,defaultValue,lang)


		//
		// get a language bundle key value and pass in JSON-based data that can
		// be used to replace tokens in your localized string.  The token format
		// should be #{my_token}.
		//
		// key - the key for the localized string you want to retrieve
		// defaultValue - the default value if the key is not found
		// lang - the locale for the localized string
		// args - the JSON-based data payload that can be used to replace tokens in your localized string
		Appcelerator.Localization.getWithFormat = function (key, defValue, lang, args)

	</textarea>	

	<p> You can call either of these functions from a Script Widget like so:</p>
	<textarea name="code" class="xml:nocontrols">
		<app:script>
			<span id="login_password_label"></span>
			
			// set the value of the password label for english
			Appcelerator.Localization.get('user.password.label','Password','en');
		</app:script>
	</textarea>
	
	
	<script>
		dp.SyntaxHighlighter.ClipboardSwf = 'js/sh/clipboard.swf';

		dp.SyntaxHighlighter.HighlightAll('code');
	</script>

</body>

</html>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:app="http://www.appcelerator.org">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<script type="text/javascript" src="js/appcelerator.js"></script>

<link rel="stylesheet" type="text/css" href="css/SyntaxHighlighter.css" />
<link rel="stylesheet" type="text/css" href="css/doc_content.css" />

<script type="text/javascript" src="js/doc.js"></script>
<script type="text/javascript" src="js/sh/shCore.js"></script>
<script type="text/javascript" src="js/sh/shBrushJScript.js"></script>
<script type="text/javascript" src="js/sh/shBrushXml.js"></script>
<script type="text/javascript" src="js/sh/shBrushCss.js"></script>
<script type="text/javascript" src="js/sh/shBrushRuby.js"></script>
<script type="text/javascript" src="js/sh/shBrushJava.js"></script>
<script type="text/javascript" src="js/sh/shBrushPhp.js"></script>

<script type="text/javascript" src="js/locale/en.js"></script>


</head>
<body style="visibility:hidden" on="l:app.compiled then visible">
	<h2>Pagination</h2>

	<!-- NAVIGATION -->
	<p>
	<a class="active" on="click then l:pagination[show=example] and add[class=active] or l:pagination[show!=example] then remove[class=active]">Example</a> |
	<a  on="click then l:pagination[show=code] and add[class=active] or l:pagination[show!=code] then remove[class=active]">Code</a> |
	<a  on="click then l:pagination[show=usage] and add[class=active] or l:pagination[show!=usage] then remove[class=active]">Usage</a> 

	</p>
	<!-- EXAMPLE -->
	<div on="l:pagination[show=example] then show else hide">
		<app:iterator on="l:paginationexample.response then execute" property="rows">
			<html:div style="margin-bottom:15px">
				#{idx}:#{name}
			</html:div>
		</app:iterator>		
		<app:pagination id="example_pagination" request="l:paginationexample.request" response="l:paginationexample.response"
			resultsLangId="pagination.searchresults" totalsLangId="pagination.totals" nextLangId="pagination.next"
			prevLangId="pagination.prev" showTotals="true" startProperty="start" endProperty="end" totalProperty="total">
		</app:pagination>
		<app:script>
			var start = 1;
			var end = 4;
			var total = 20;
			var rows = new Array();
			for (var i=start;i&lt;=end;i++)
			{
				var name = 'app '+i;
				rows.push ({'name':name,'idx':i});
			}
			var result = {'end':end,'start':start,'total':total,'rows':rows};
			$MQ('l:paginationexample.response',result);
		</app:script>
		<app:script on="l:paginationexample.request then execute">
			var start = 0;
			var end = 0;
			if (this.data.dir == 'next')
			{
				start = this.data.end + 1;
				end = this.data.end + 4;
			}
			else
			{
				start = this.data.start - 4;
				end = this.data.end - 4;
			}
			var dir = this.data.dir;
			var total = this.data.total;
			var rows = new Array();
			for (var i=start;i&lt;=end;i++)
			{
				var name = 'app '+i;
				rows.push ({'name':name,'idx':i});
			}
			var result = {'end':end,'start':start,'total':total,'rows':rows};
			$MQ('l:paginationexample.response',result);
		</app:script>
	</div>

	<!-- CODE -->
	<div on="l:pagination[show=code] then show else hide" style="display:none">
		<p>Here's the code:
			<textarea name="code" class="xml:nocontrols">
				<app:iterator on="l:paginationexample.response then execute" property="rows">
					<html:div style="margin-bottom:15px">
						#{idx}:#{name}
					</html:div>
				</app:iterator>		
				<app:pagination id="example_pagination" request="l:paginationexample.request" response="l:paginationexample.response"
					resultsLangId="pagination.searchresults" totalsLangId="pagination.totals" nextLangId="pagination.next"
					prevLangId="pagination.prev" showTotals="false" startProperty="start" endProperty="end" totalProperty="total">
				</app:pagination>
				<app:script>
					var start = 1;
					var end = 4;
					var total = 20;
					var rows = new Array();
					for (var i=start;i&lt;=end;i++)
					{
						var name = 'app '+i;
						rows.push ({'name':name,'idx':i});
					}
					var result = {'end':end,'start':start,'total':total,'rows':rows};
					$MQ('l:paginationexample.response',result);
				</app:script>
				<app:script on="l:paginationexample.request then execute">
					var start = 0;
					var end = 0;
					if (this.data.dir == 'next')
					{
						start = this.data.end + 1;
						end = this.data.end + 4;
					}
					else
					{
						start = this.data.start - 4;
						end = this.data.end - 4;
					}
					var dir = this.data.dir;
					var total = this.data.total;
					var rows = new Array();
					for (var i=start;i&lt;=end;i++)
					{
						var name = 'app '+i;
						rows.push ({'name':name,'idx':i});
					}
					var result = {'end':end,'start':start,'total':total,'rows':rows};
					$MQ('l:paginationexample.response',result);
				</app:script>
			</textarea>	
		</p>
	</div>

	<!-- USAGE -->
	<div on="l:pagination[show=usage] then show else hide" style="display:none">
		<p>
			 Required Options:
				<table cellspacing="5px">
					<tr>
					  <td class="term">request</td>
					  <td class="def">the request message</td>
					</tr>
					<tr>
					  <td class="term">response</td>
					  <td class="def">the response message</td>
					</tr>
				</table>
		</p>
		<p>
			 Optional Options:
				<table cellspacing="5px">
					<tr>
					  <td class="term">startProperty</td>
					  <td class="def">defaults to start: the data property name that contains the start record for the current results (e.g., Showing 1-10 of 500 - in this case "1" is the startProperty value - the default is "start"</td>
					</tr>
					<tr>
					  <td class="term">endProperty</td>
					  <td class="def">defaults to end: the data property name that contains the end record for the current results (e.g., Showing 1-10 of 500 - in this case "10" is the endProperty value - the default is "end"</td>
					</tr>
					<tr>
					  <td class="term">totalProperty</td>
					  <td class="def">defaults to total: the data property name that contains the total records for the current results (e.g., Showing 1-10 of 500 - in this case "500" is the totalProperty value - the default is "total"</td>
					</tr>
					<tr>
					  <td class="term">nextText</td>
					  <td class="def">the text displayed for the "next" link</td>
					</tr>
					<tr>
					  <td class="term">prevText</td>
					  <td class="def">the text displayed for the "prev" link</td>
					</tr>
					<tr>
					  <td class="term">nextLangId</td>
					  <td class="def">the text displayed for the next link using a locale value</td>
					</tr>
					<tr>
					  <td class="term">prevLangId</td>
					  <td class="def">the text displayed for the prev link using a locale value</td>
					</tr>
					<tr>
					  <td class="term">resultsString</td>
					  <td class="def">a template string for text - default is "Showing #{start} of #{end}</td>
					</tr>
					<tr>
					  <td class="term">totalsString</td>
					  <td class="def">a template string for totals text - default is "#{total} records found</td>
					</tr>
					<tr>
					  <td class="term">resultsLangId</td>
					  <td class="def">resultString using a langId</td>
					</tr>
					<tr>
					  <td class="term">totalsLangId</td>
					  <td class="def">totalsString using a langid</td>
					</tr>
					<tr>
					  <td class="term">showTotals</td>
					  <td class="def">true or false - in some cases the total number of records are not available</td>
					</tr>
				</table>
		</p>
	</div>	
	
	<script>
		dp.SyntaxHighlighter.ClipboardSwf = 'js/sh/clipboard.swf';

		dp.SyntaxHighlighter.HighlightAll('code');
	</script>

</body>

</html>
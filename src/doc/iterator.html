<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:app="http://www.appcelerator.org/appcelerator">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<script type="text/javascript" src="js/appcelerator.js"></script>

<link rel="stylesheet" type="text/css" href="css/appcelerator.css" />
<link rel="stylesheet" type="text/css" href="css/SyntaxHighlighter.css" />
<link rel="stylesheet" type="text/css" href="css/doc_content.css" />

<script type="text/javascript" src="js/seamless2.js"></script>
<script type="text/javascript" src="js/sh/shCore.js"></script>
<script type="text/javascript" src="js/sh/shBrushJScript.js"></script>
<script type="text/javascript" src="js/sh/shBrushXml.js"></script>
<script type="text/javascript" src="js/sh/shBrushCss.js"></script>
<script type="text/javascript" src="js/sh/shBrushRuby.js"></script>
<script type="text/javascript" src="js/sh/shBrushJava.js"></script>
<script type="text/javascript" src="js/sh/shBrushPhp.js"></script>

<style>
<!--
#results a
{
	color:#0000CC;
	text-decoration:underline;
	font-size:16px;
}
.result_text
{
	color:#000;
	font-size:13px;
}
.result_link
{
	font-size:12px;
	color:green;
}
body
{
	font-family:arial,sans-serif;
	font:12px;
	color:#696969;
}
input[type=text]:focus
{
	background-color:#ffffcc;
}
input[type=button]
{
   border-width:1px;
   padding: 2px 7.5px 2px 7.5px;
   margin: 0;
   font-size:18px;
}

input[type="text"] 
{
	border-color:#7C7C7C rgb(195, 195, 195) rgb(221, 221, 221);
	border-style:solid;
	border-width:1px;
	font-size:24px;
	margin:1px;
	padding:3px 3px 3px 10px;
	width:400px;
}

#search_table
{
	position:absolute;
	top:100px;
}

#results_top
{
	position:relative;
	top:10px;
	left:20px;
	width:60%;
}
#results_top input[type="text"] 
{
	border-color:#7C7C7C rgb(195, 195, 195) rgb(221, 221, 221);
	border-style:solid;
	border-width:1px;
	font-size:14px;
	margin:1px;
	padding:3px 3px 3px 10px;
	width:200px;
	position:relative;
	top:-25px;
}
#results_top input[type=button]
{
   border-width:1px;
   padding: 2px 7.5px 2px 7.5px;
   margin: 0;
   font-size:14px;
	position:relative;
	top:-26px;
	left:5px;
}
#results_divider
{
	position:relative;
	top:10px;
	background-color:#D5DFF3;
	border-top:1px solid #3366CC;
	height:20px;
}
#results
{
	position:relative;
	top:20px;
	left:20px;
}
-->
</style>

</head>
<body>
	<h2>Iterator</h2>

	<!-- NAVIGATION -->
	<p>
	<a class="active" on="click then l:iterator[show=example] and add[class=active] or l:iterator[show!=example] then remove[class=active]">Example</a> |
	<a  on="click then l:iterator[show=code] and add[class=active] or l:iterator[show!=code] then remove[class=active]">Code</a> |
	<a  on="click then l:iterator[show=usage] and add[class=active] or l:iterator[show!=usage] then remove[class=active]">Usage</a> 
	</p>

	<!-- EXAMPLE -->
	<div on="l:iterator[show=example] then show else hide">
		<p>
			The Iterator allows you to build fully customizable data rows for an array of message data.
			Within the Iterator defintion, you create the row template using standard HTML.  Within the row
			template you can reference array data properties using the following syntax <tt>#{property_name}</tt>.
			For example, if you had a data property in row named "first_name", you could place that in each
			row of the iterator using the following syntax: <tt>#{first_name}</tt>		
		</p>
		<p>
			Here's an example that illustrates the power of an iterator.  The example below shows some 
			simple search results with sponsored ads on the right side.  Both the search results and the
			sponsored ads are created using the Iterator.
		</p>
		<div>
			<div id="results_divider">
				<div style="color:#333;padding-left:20px;position:relative;top:1px">Results for:
					<span style="line-height:20px">Ajax</span>	
				</div>
			</div>
			<table width="90%" id="results">
				<tr>
					<td width="70%" valign="top">
						<!-- SEARCH RESULTS ITERATOR -->
						<app:iterator on="r:search.response then execute" property="rows">
							<html:div style="margin-bottom:15px">
								<html:a >#{result}</html:a>
								<html:div class="result_text">#{desc}</html:div>
								<html:div class="result_link">#{url}</html:div>
							</html:div>
						</app:iterator>
					</td>
					<td width="30%" valign="top" style="border-left:1px solid #ccc;padding-left:15px">
						<div style="color:#999;padding-bottom:10px;text-align:center">Sponsored Links</div>
						
						<!-- SPONSORED LINKS ITERATOR -->
						<app:iterator on="r:add.response then execute" property="rows">
							<html:div style="margin-bottom:15px">
								<html:a>#{result}</html:a>
								<html:div class="result_text">#{desc}</html:div>
								<html:div class="result_link">#{url}</html:div>
							</html:div>
						</app:iterator>

					</td>
				</tr>
			</table>
		</div>
		<app:script>
		$MQ('r:search.response',{rows:[
			{'desc':'Ajax, DHTML and SOA all in one platform','url':'http://appcelerator.com','result':'Appcelerator - More App. Less Code.'},

					{'desc':'Ajax, or AJAX (Asynchronous JavaScript and XML), is a web development technique used for creating...','url':'http://en.wikipedia.org/wiki/Ajax_(programming)','result':'Ajax (programming) - Wikipedia, the free encyclopedia'},
					{'desc':'Provides the implementation of AJAX technology introduced by Microsoft.','url':'http://ajax.asp.net/','result':'AJAX : The Official Microsoft ASP.NET 2.0 Site'},
					{'desc':'AJAX is a type of programming made popular in 2005 by Google (with Google Suggest). AJAX is not a new programming...','url':'http://www.w3schools.com/ajax/default.asp', 'result':'AJAX Tutorial'},
					{'desc':'Seminal article which popularized "AJAX" as a term.','url':'http://www.adaptivepath.com/publications/essays/archives/000385.php','result':'adaptive path » ajax: a new approach to web applications'},
					{'desc':'A comprehensive guide on getting started with AJAX including articles, tutorials and links to other useful websites.','url':'http://developer.mozilla.org/en/docs/AJAX','result':'AJAX - MDC'},
					{'desc':"I am excited about this, as it means that you can write a rich Ajax client that doesn't need server-side...",'url':'http://ajaxian.com/ ','result':'Ajaxian'},

					]});
		$MQ('r:add.response',{rows:[

					{'desc':'Clean toilets fast with new and improved Ajax!','url':'www.ajax.com','result':'Ajax Clean Toliets'},
					{'desc':'Our Ajax improves your personal happiness by over 5%!','url':'www.ourajax.com','result':'Ajax Improves Happiness'},
					{'desc':'We do know Ajax, but we love beer','url':'www.beer.com','result':'Ajax is good. Beer is Better'},
					{'desc':'Get your Ajax on Ebay for $1.99','url':'www.ebay.com','result':'Last Call for Ajax on Ebay'},
					{'desc':'Ajax stole my car.  Can you help?','url':'www.findmycar.com','result':'Ajax: Car Thief'},

								]});

		</app:script>
	</div>

	<!-- CODE -->
	<div on="l:iterator[show=code] then show else hide" style="display:none">

		<p>Here's the code:
			<textarea name="code" class="xml:nocontrols">
				<div id="results_divider">
					<div style="color:#333;padding-left:20px;position:relative;top:1px">Results for:
						<span style="line-height:20px">Ajax</span>	
					</div>
				</div>
				<table width="90%" id="results">
					<tr>
						<td width="70%" valign="top">
							<!-- SEARCH RESULTS ITERATOR -->
							<app:iterator on="r:search.response then execute" property="rows">
								<html:div style="margin-bottom:15px">
									<html:a >#{result}</html:a>
									<html:div class="result_text">#{desc}</html:div>
									<html:div class="result_link">#{url}</html:div>
								</html:div>
							</app:iterator>
						</td>
						<td width="30%" valign="top" style="border-left:1px solid #ccc;padding-left:15px">
							<div style="color:#999;padding-bottom:10px;text-align:center">Sponsored Links</div>

							<!-- SPONSORED LINKS ITERATOR -->
							<app:iterator on="r:add.response then execute" property="rows">
								<html:div style="margin-bottom:15px">
									<html:a>#{result}</html:a>
									<html:div class="result_text">#{desc}</html:div>
									<html:div class="result_link">#{url}</html:div>
								</html:div>
							</app:iterator>
						</td>
					</tr>
				</table>
			</textarea>	
		</p>
		<p>Here's the local Appcelerator message that populated the iterator:
			<textarea name="code" class="xml:nocontrols">
				<app:script>
				$MQ('r:search.response',{rows:[
					{'desc':'Ajax, DHTML and SOA all in one platform','url':'http://appcelerator.com','result':'Appcelerator - More App. Less Code.'},

							{'desc':'Ajax, or AJAX (Asynchronous JavaScript and XML), is a web development technique used for creating...','url':'http://en.wikipedia.org/wiki/Ajax_(programming)','result':'Ajax (programming) - Wikipedia, the free encyclopedia'},
							{'desc':'Provides the implementation of AJAX technology introduced by Microsoft.','url':'http://ajax.asp.net/','result':'AJAX : The Official Microsoft ASP.NET 2.0 Site'},
							{'desc':'AJAX is a type of programming made popular in 2005 by Google (with Google Suggest). AJAX is not a new programming...','url':'http://www.w3schools.com/ajax/default.asp', 'result':'AJAX Tutorial'},
							{'desc':'Seminal article which popularized "AJAX" as a term.','url':'http://www.adaptivepath.com/publications/essays/archives/000385.php','result':'adaptive path » ajax: a new approach to web applications'},
							{'desc':'A comprehensive guide on getting started with AJAX including articles, tutorials and links to other useful websites.','url':'http://developer.mozilla.org/en/docs/AJAX','result':'AJAX - MDC'},
							{'desc':"I am excited about this, as it means that you can write a rich Ajax client that doesn't need server-side...",'url':'http://ajaxian.com/ ','result':'Ajaxian'},

							]});
				$MQ('r:add.response',{rows:[

							{'desc':'Clean toilets fast with new and improved Ajax!','url':'www.ajax.com','result':'Ajax Clean Toliets'},
							{'desc':'Our Ajax improves your personal happiness by over 5%!','url':'www.ourajax.com','result':'Ajax Improves Happiness'},
							{'desc':'We do know Ajax, but we love beer','url':'www.beer.com','result':'Ajax is good. Beer is Better'},
							{'desc':'Get your Ajax on Ebay for $1.99','url':'www.ebay.com','result':'Last Call for Ajax on Ebay'},
							{'desc':'Ajax stole my car.  Can you help?','url':'www.findmycar.com','result':'Ajax: Car Thief'},

										]});

				</app:script>
			</textarea>		
		</p>
	</div>

	<!-- USAGE -->
	<div on="l:iterator[show=usage] then show else hide" style="display:none">
		<p>
			 Required Options:
				<table cellspacing="5px">
					<tr>
					  <td class="term">on</td>
					  <td class="def">the expression that determines what message will trigger the execution
						of the iterator.  The correct syntax is :<tt>on="[message_name] then execute"</tt>
					</td>
					</tr>
					<tr>
					  <td class="term">property</td>
					  <td class="def">the property name of the array for the iterator.  In our example, this
						values was "rows" because "rows" was the name of the array in JSON-based response message </td>
					</tr>
				</table>
		</p>
		<p>
			 Optional Options:
				<table cellspacing="5px">
					<tr>
					  <td class="term">selectable</td>
					  <td class="def">determines if iterator rows are "selectable".  The correct syntax is :
						<tt>selectable="[any_string_value]"</tt>.  When Iterator rows are selectable, you can
						listen for <tt>selected</tt> conditions on each row and use that condition to perform
						any action. For example, we may want to set a CSS class name when a row is selected.  To
						do this, you would say <tt>on="selected then add[className=selectedRowClass]"</tt>.  This
						expression would be added to the row container element of your Iterator (usually the outer-most
						DIV in an iterator definition).
					  </td>
					</tr>
				</table>
		</p>
	</div>	
	
	<script>
		dp.SyntaxHighlighter.ClipboardSwf = 'js/sh/clipboard.swf';

		dp.SyntaxHighlighter.HighlightAll('code');
	</script>

</body>

</html>
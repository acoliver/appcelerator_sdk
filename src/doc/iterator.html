<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:app="http://www.appcelerator.org/appcelerator">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<script type="text/javascript" src="js/appcelerator.js"></script>

<link rel="stylesheet" type="text/css" href="css/appcelerator.css" />
<link rel="stylesheet" type="text/css" href="css/SyntaxHighlighter.css" />
<link rel="stylesheet" type="text/css" href="css/doc_content.css" />

<script type="text/javascript" src="js/seamless2.js"></script>
<script type="text/javascript" src="js/sh/shCore.js"></script>
<script type="text/javascript" src="js/sh/shBrushJScript.js"></script>
<script type="text/javascript" src="js/sh/shBrushXml.js"></script>
<script type="text/javascript" src="js/sh/shBrushCss.js"></script>
<script type="text/javascript" src="js/sh/shBrushRuby.js"></script>
<script type="text/javascript" src="js/sh/shBrushJava.js"></script>
<script type="text/javascript" src="js/sh/shBrushPhp.js"></script>



</head>
<body>
	<h2>Iterator</h2>

	<!-- NAVIGATION -->
	<p>
	<a class="active" on="click then l:iterator[show=example] and add[class=active] or l:iterator[show!=example] then remove[class=active]">Example</a> |
	<a  on="click then l:iterator[show=code] and add[class=active] or l:iterator[show!=code] then remove[class=active]">Code</a> |
	<a  on="click then l:iterator[show=usage] and add[class=active] or l:iterator[show!=usage] then remove[class=active]">Usage</a> 
	</p>

	<p>
		An iterator provides the ability to render templated html for a collection.  When rendering each iteration, the called inner html will be wrapped with a &lt;div&gt; element.  Some examples of this are:
		<ul>
			<li>rendering more complicated tables
			<li>building pop up selection boxes
		</ul>
	</p>
	<!-- EXAMPLE -->
	<div on="l:iterator[show=example] then show else hide">
		<a on="click then l:itertatorexample.request">simulate table example</a><br/><br/>
		<div on="l:itertatorexample.request then show" style="display:none;">
			<app:iterator on="l:iteratorexample.response then execute" property="rows">
				<html:table border="0" width="100%" cellspacing="0" cellpadding="0">
					<html:tr>	
						<html:td width="30%">#{first_name}</html:td>
						<html:td width="70%"><html:a on="click then l:iteratorexample.selected[email=#{email},id=#{id}]">#{email}</html:a></html:td>
					</html:tr>
				</html:table>
			</app:iterator>
			</p>
		</div>
		<app:script on="l:itertatorexample.request then execute">
			var rows = [{'id':1,'first_name':'John', 'email':'john@john.com'},{'id':2,'first_name':'Jan', 'email':'jan@gmail.com'},
			{'id':3,'first_name':'Bill', 'email':'bill@aol.com'}]    	
			$MQ('l:iteratorexample.response',{'rows':rows}); 	
		</app:script>
	</div>

	<!-- CODE -->
	<div on="l:iterator[show=code] then show else hide" style="display:none">

		<p>Here's the code:
			<textarea name="code" class="xml:nocontrols">
				<app:iterator on="l:iteratorexample.response then execute" property="rows">
					<html:table border="0" width="100%" cellspacing="0" cellpadding="0">
						<html:tr>	
							<html:td width="30%">#{first_name}</html:td>
							<html:td width="70%"><html:a on="click then l:iteratorexample.selected[email=#{email},id=#{id}]">#{email}</html:a></html:td>
						</html:tr>
					</html:table>
				</app:iterator>
			</textarea>	
		</p>
		<p>Here's the local Appcelerator message that populated the iterator:
			<textarea name="code" class="xml:nocontrols">
				<app:script on="l:itertatorexample.request then execute">
					var rows = [{'id':1,'first_name':'John', 'email':'john@john.com'},{'id':2,'first_name':'Jan', 'email':'jan@gmail.com'},
					{'id':3,'first_name':'Bill', 'email':'bill@aol.com'}]    	
					$MQ('l:iteratorexample.response',{'rows':rows}); 	
				</app:script>
			</textarea>		
		</p>
	</div>

	<!-- USAGE -->
	<div on="l:iterator[show=usage] then show else hide" style="display:none">
		<p>
			 Required Options:
				<table cellspacing="5px">
					<tr>
					  <td class="term">on</td>
					  <td class="def">handler that controls the activation of the iterator usually of the form ""&lt;event&gt; then execute</td>
					</tr>
					<tr>
					  <td class="term">property</td>
					  <td class="def">the property name the data payload that represents the collection to iterate</td>
					</tr>
				</table>
		</p>
		<p>
			 Optional Options:
				<table cellspacing="5px">
					<tr>
					  <td class="term">selectable</td>
					  <td class="def">in conjunction with the "selected" action this is the name of the style for the div</td>
					</tr>
				</table>
		</p>
	</div>	
	
	<script>
		dp.SyntaxHighlighter.ClipboardSwf = 'js/sh/clipboard.swf';

		dp.SyntaxHighlighter.HighlightAll('code');
	</script>

</body>

</html>
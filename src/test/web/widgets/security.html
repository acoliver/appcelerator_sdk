<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:app="http://www.appcelerator.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<script type="text/javascript" src="../js/appcelerator.js"></script>
	<link rel="stylesheet" type="text/css" href="../css/test.css" />
</head>
<body>

<h3> Security Widget </h3> 
<p>
	These tests exercise the security widget
</p>

<app:security on="l:loaded then execute">
	return (this.data.roles && this.data.roles[0].r == this.roles[0]);
</app:security>

<table width="90%">
	<tr>
		<td class="test" valign="middle">
			This value should be visible
		</td>
		<td class="result" >
			<div security="r">Test Passed</div>
		</td>
	</tr>
	<tr>
		<td class="test" valign="middle">
			This value should NOT be visible
		</td>
		<td class="result" >
			<div security="w">Test Failed</div>
		</td>
	</tr>
</table>

<app:script>
	$MQ('l:loaded',{roles:[{'r':'r'}]});
</app:script>

</body>

</html>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:app="http://www.appcelerator.org">
<head>
	<script type="text/javascript" src="../js/appcelerator.js"></script>
	<script type="text/javascript" src="../locale/en.js"></script> 
	<link rel="stylesheet" type="text/css" href="../css/test.css" />
<style>
<!--
.test
{
	width:35%;
}
input[type=text]
{
	width:40%;
	border:1px solid #ccc;
	padding:3px;
	font-size:12px;
}
-->
</style>
</head>
<body>

<h3> Pagination Widget </h3> 
<p>
	These tests exercise the pagination widget
</p>

<table width="90%">
	<tr>
		<td class="test" valign="middle">
			Basic Pagination: click the start link to get the initial fetch.  should display 4 items at a time starting with 1 through 4.
		</td>
		<td class="result" >
			<app:pagination id="example_pagination" request="l:paginationexample.request" response="l:paginationexample.response"
				resultsLangId="pagination.searchresults" totalsLangId="pagination.totals" nextLangId="pagination.next"
				prevLangId="pagination.prev" showTotals="false" startProperty="start" endProperty="end" totalProperty="total">
			</app:pagination>
			<app:iterator on="l:paginationexample.response then execute" property="rows">
				<html:div style="margin-bottom:15px">
					#{idx}:#{name}
				</html:div>
			</app:iterator>
			<a on="click then l:paginationexample.request[dir=previous,end=4,total=20,start=1]">start</a>
			<app:script on="l:paginationexample.request then execute">
				var start = this.data.start;
				var end = this.data.end;
				var dir = this.data.dir;
				var total = this.data.total;
				var rows = new Array();
				for (var i=start;i&lt;=end;i++)
				{
					var name = 'app '+i;
					rows.push ({'name':name,'idx':i});
				}
				var result = {'end':end,'start':start,'total':total,'rows':rows}
				$MQ('l:paginationexample.response',result);
			</app:script>
			
		</td>
	</tr>
</table>
</body>
</html>
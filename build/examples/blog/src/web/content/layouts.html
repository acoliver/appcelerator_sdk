<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:app="http://www.appcelerator.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<script type="text/javascript" src="js/appcelerator.js"></script>
</head>
<body>
<div id="content">

   <h2>Layouts</h2>
   <p>Layouts control the presentation of your blog</p>
   <div class="file_browser">
        <div class="add_new">
            <button on="click then l:add.layout">Add new</button>
        </div>
        <div class="browser_header">
            <span class="name">Name</span><span class="create">Action</span>
        </div>
        <app:iterator on="r:layouts.response then execute" property="layouts">
            <html:div class="clickable" on="click then r:edit.layout.request[id=#{id}] \
                    or r:remove.layout.response[id=#{id}] then effect[Fade]">
                <html:span class="name">#{title}</html:span>
                <html:span class="remove" on="click then r:remove.layout.request[id=#{id}]">Remove</html:span>
            </html:div>
        </app:iterator>
        <div class="clickable" style="display: none" on="">
            <span class="name" >Untitled</span>
            <span class="remove" on="click then r:remove.layout.request[id=untitled]">Remove</span>
        </div>
    </div>
</div>

<app:content src="content/edit_layout_dialog.html"></app:content>
</body>
</html>
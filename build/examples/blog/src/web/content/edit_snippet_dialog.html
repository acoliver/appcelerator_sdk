<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Edit Dialog</title>
</head>
<body>
    <app:modaldialog on="r:edit.snippet.response then execute">  
        <html:div width="80%" class="modal_dialog">
            <html:div class="dialog_header">
                Edit #{title} <span style='display: none' on="r:save.snippet.response[result=success] then show and effect[Fade]">(Saved)</span>
            </html:div>
            <html:div class="dialog_body">
                <html:input fieldset="edit_snippet" type="hiddend" name="snippet_id" value="#{id}"></input>
                <html:table width="100%" height="30px">
                <html:tr>
                    <html:th>
                        Title:
                    </html:th>
                    <html:td class="clickable">
                        <app:editinplace type='text' id="snippet_title" saveOn="click then l:save" 
                            cancelOn="click then l:cancel" validator="required" position="right"
                            defaultClassName="name" defaultValue="#{title}">
                        </app:editinplace> 
                    </html:td>
                </html:tr>    
                </html:table>
                <html:h3 class="text_area">Snippet</html:h3>
                <html:div class="text_area">
                    <textarea fieldset="edit_snippet">#{text}</textarea>            
                </html:div>
                <html:input type="button" on="click then l:appcelerator.modaldialog.hide" value="close"></html:input> 
                <html:input fieldset="edit_snippet" type="button" on="click then r:save.snippet.request" value="save"></html:input> 
                <html:input fieldset="edit_snippet" type="button" on="click then r:save.snippet.request[close=true]" value="Save and Close"></html:input>
            </html:div>
        </html:div>
    </app:modaldialog>
    <app:message on="r:save.snippet.response[result=success,close=true] then execute" name="l:appcelerator.modaldialog.hide"></app:message>
</body>
</html>

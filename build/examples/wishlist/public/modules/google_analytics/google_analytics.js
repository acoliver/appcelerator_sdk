Appcelerator.Module.GoogleAnalytics={init:null,getName:function(){return"google analytics"},getDescription:function(){return"google analytics helper widget"},getVersion:function(){return 1},getSpecVersion:function(){return 1},getAuthor:function(){return"Jeff Haynie"},getModuleURL:function(){return"http://www.appcelerator.org"},isWidget:function(){return true},getWidgetName:function(){return"google:analytics"},install:function(){if(Appcelerator.Browser.isIE){switch(this.readyState){case"loaded":case"complete":break;default:return }}if(window.googleTracker){for(var F in window.googleStuff){if(F.charAt(0)=="_"){window[F]=window.googleStuff[F]}}delete window.googleStuff;if(window.googleTrackLinks){var H=document.getElementsByTagName("a");for(var G=0;G<H.length;G++){var D=H[G];if(D.href){var C=D.hostname;var B=false;for(var A=0;A<window.googleTrackLinks.length;A++){if(C.indexOf(window.googleTrackLinks[A])!=-1){B=true;break}}if(B){var E='__utmLinker("'+D.href+'");false;';D.setAttribute("onclick",E)}}}}window.googleTracker()}},getAttributes:function(){return[{name:"account",optional:true},{name:"domain",optional:true},{name:"trackoutboundlinks",optional:true}]},buildWidget:function(D,E){var G=E["account"];var F=E["domain"];var A=E["trackoutboundlinks"];var C=[];if(A){A.split(",").each(function(I){C.push(I.trim())})}window.googleStuff={};window.googleStuff._uacct=G;window.googleStuff._uanchor=1;window.googleStuff._ulink=1;if(F){window.googleStuff._udn=F;window.googleStuff._uhash="off"}if(C.length>0){window.googleTrackLinks=[];for(var H=0;H<C.length;H++){window.googleTrackLinks.push(C[H])}}window.googleTracker=function(){urchinTracker()};var B=document.createElement("script");B.setAttribute("type","text/javascript");B.setAttribute("src","http://www.google-analytics.com/urchin.js");B.setAttribute("onload","Appcelerator.Module.GoogleAnalytics.install();");B.setAttribute("onreadystatechange","Appcelerator.Module.GoogleAnalytics.install();");document.getElementsByTagName("head")[0].appendChild(B);return{"position":Appcelerator.Compiler.POSITION_REMOVE}}};Appcelerator.Core.registerModule("google:analytics",Appcelerator.Module.GoogleAnalytics)
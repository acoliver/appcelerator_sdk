Appcelerator.Module.Tabpanel={getName:function(){return"appcelerator tabpanel"},getDescription:function(){return"tabpanel widget"},getVersion:function(){return 1},getSpecVersion:function(){return 1},getAuthor:function(){return"Jeff Haynie"},getModuleURL:function(){return"http://www.appcelerator.org"},isWidget:function(){return true},getWidgetName:function(){return"app:tabpanel"},getAttributes:function(){return[{name:"on",optional:true,description:"May be used to add an expression to the entire tab panel."},{name:"initial",optional:true,description:"Indicates which tab panel will initially be active."},{name:"activeClassName",defaultValue:"tab_active",optional:true,description:"The CSS class name to use for an active tab. Defaults to 'tab_active.'"},{name:"inactiveClassName",defaultValue:"tab_inactive",optional:true,description:"The CSS class name to use for an inactive tab. Defaults to 'tab_inactive.'"},{name:"class",defaultValue:"tabpanel",optional:true,description:"The class name to use for the entire tab panel. Defaults to 'tabpanel.'"}]},compileWidget:function(E){var A=E["id"];var F=$(A);var H=E["initial"];var D=E["initialNode"];var K=null;var J=E["tabs"];var M=E["activeClassName"];var B=E["inactiveClassName"];if(H){if(Appcelerator.Compiler.StateMachine.initialStateLoaders){Appcelerator.Compiler.StateMachine.initialStateLoaders.push([A,H])}K=$(D);Element.removeClassName(K,B);Element.addClassName(K,M)}Appcelerator.Compiler.attachFunction(F,"executeEnable",function(){Appcelerator.Compiler.StateMachine.enableStateMachine(A)});Appcelerator.Compiler.attachFunction(F,"executeDisable",function(){Appcelerator.Compiler.StateMachine.disableStateMachine(A)});for(var I=0,G=J.length;I<G;I++){var C=$(J[I][1]);C.state=J[I][0];C.onclick=function(N){Appcelerator.Compiler.StateMachine.fireStateMachineChange(A,this.state,true);if(K){Element.removeClassName(K,M);Element.addClassName(K,B)}Element.removeClassName(this,B);Element.addClassName(this,M);K=this};C.onmouseover=function(){if(K!=this){this.className+=" "+M}};C.onmouseout=function(){if(K!=this){this.className=this.className.gsub(" "+M,"")}};Appcelerator.Compiler.delegateToAttributeListeners(J[I][2]);var L=J[I][2].getAttribute("class");if(L){Element.addClassName(C,L)}C.style.display=""}},buildWidget:function(F,H){var R=[];var I=H["on"];var E=H["initial"];var C=H["activeClassName"];var U=H["inactiveClassName"];var G=H["class"];var L=F.id;var D=false;var P=null;var O=null;var A="";var J='<div id="parent_'+L+'">';J+='<div id="'+L+'" '+(G?'class="'+G+'"':"")+" "+(I?'on="'+I+'"':"")+'><table style="padding: 0; margin: 0" cellpadding="0" cellspacing="0"><tr>\n';if(Appcelerator.Browser.isIE){var M=F.innerHTML;M=M.replace(/<TAB/g,"<APP:TAB");M=M.replace(/\/TAB>/g,"/APP:TAB>");F.innerHTML=M}for(var S=0,Q=F.childNodes.length;S<Q;S++){var N=F.childNodes[S];if(N.nodeType==1&&N.nodeName.toLowerCase()=="tab"){var V=N.getAttribute("name");var B=N.getAttribute("langid");var K=null;if(B){K=Appcelerator.Localization.get(B);if(K){N.removeAttribute("langid")}}if(!K){K=Appcelerator.Compiler.getHtml(N)}var T=L+"_"+V;J+='<td><div id="'+T+'" '+(U?'class="tabpanel_tab '+U+'" ':"tabpanel_tab")+" "+Appcelerator.Util.Dom.getAttributesString(F)+"><a>"+K+"</a></div></td>\n";if(!D&&E&&E==V){D=true;P=T}else{if(!E&&!D){D=true;P=T;E=V}}Appcelerator.Compiler.StateMachine.addState(L,V,null);R.push([V,T,N])}}J+="</tr></table></div></div>";if(E){if(!D){throw"invalid initial state - couldn't find state: "+E+" for "+L}}H["id"]=L;H["initialNode"]=P;H["tabs"]=R;return{"presentation":J,"position":Appcelerator.Compiler.POSITION_REPLACE,"compile":true,"wire":true}}};Appcelerator.Core.registerModule("app:tabpanel",Appcelerator.Module.Tabpanel);Appcelerator.Core.loadModuleCSS("app:tabpanel","tabpanel.css")